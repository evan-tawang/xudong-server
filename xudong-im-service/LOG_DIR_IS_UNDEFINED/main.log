19-06-18 20:46:36 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:46:37 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:46:37 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:46:37 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@58ffcbd7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@555cf22, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3c9bfddc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a9c38eb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@319bc845, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4c5474f5, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2f4205be, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3bd418e4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@544820b7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b98a075]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:46:39 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 3916 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:46:39 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:46:43 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:46:43 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:46:43 INFO [main] Finished Spring Data repository scanning in 223ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:46:43 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:46:43 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:46:44 INFO [main] Finished Spring Data repository scanning in 4ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:46:45 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:46:45 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:46:46 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@4d705112,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:46:46 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:46:46 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:46:46 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:46:46 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:46:46 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:46:46 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:46:46 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:46:46 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:46:46 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:46:46 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:46:46 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:46:47 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:46:48 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:46:48 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:46:48 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:46:48 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:46:48 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:46:48 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:46:48 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:46:50 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:46:50 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:46:50 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:46:50 INFO [main] Started ChatWaitConnectQueueCacheTest in 11.978 seconds (JVM running for 16.941)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:46:52 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:46:52 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:46:52 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:46:52 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:46:52 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:46:52 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:46:52 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:46:52 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:46:52 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-18 20:47:16 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:47:16 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:47:17 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:47:17 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7e276594, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3401a114, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5066d65f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4233e892, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77d2e85, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3ecd267f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ffcbd7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3c9bfddc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1a9c38eb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@319bc845]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:47:18 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 4816 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:47:18 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:47:19 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:47:19 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:47:19 INFO [main] Finished Spring Data repository scanning in 27ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:47:19 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:47:19 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:47:19 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:47:20 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:47:21 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:47:21 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@6221b13b,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:47:21 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:47:21 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:47:21 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:47:21 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:47:21 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:47:21 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:47:21 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:47:21 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:47:21 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:47:21 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:47:21 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:47:22 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:47:22 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:47:22 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:47:22 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:47:22 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:47:23 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:47:23 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:47:23 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:47:24 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:47:24 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:47:24 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:47:24 INFO [main] Started ChatWaitConnectQueueCacheTest in 6.891 seconds (JVM running for 10.557)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:47:24 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:47:24 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:47:24 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:47:24 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:47:24 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:47:24 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:47:24 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:47:24 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:47:24 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-18 20:49:50 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:49:50 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:49:51 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:49:51 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@77d2e85, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ecd267f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555cf22, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6bb2d00b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c9bfddc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a9c38eb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@319bc845, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4c5474f5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2f4205be, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3bd418e4]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:49:52 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 9808 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:49:52 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:49:53 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:49:53 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:49:53 INFO [main] Finished Spring Data repository scanning in 26ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:49:53 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:49:53 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:49:53 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:49:54 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:49:55 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:49:55 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@c4d2c44,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:49:55 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:49:55 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:49:55 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:49:55 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:49:55 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:49:55 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:49:55 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:49:55 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:49:55 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:49:55 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:49:55 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:49:55 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:49:56 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:49:56 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:49:56 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:49:56 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:49:56 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:49:56 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:49:56 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:49:57 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:49:57 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:49:57 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:49:57 INFO [main] Started ChatWaitConnectQueueCacheTest in 5.994 seconds (JVM running for 8.824)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:49:58 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:49:58 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:49:58 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:49:58 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:49:58 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:49:58 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:49:58 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:49:58 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:49:58 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-18 20:50:42 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:50:42 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:50:42 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:50:43 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7e276594, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3401a114, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5066d65f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4233e892, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77d2e85, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3ecd267f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@58ffcbd7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3c9bfddc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1a9c38eb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@319bc845]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:50:43 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 9328 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:50:43 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:50:45 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:50:45 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:50:45 INFO [main] Finished Spring Data repository scanning in 28ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:50:45 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:50:45 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:50:45 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:50:46 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:50:46 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:50:46 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@7b351446,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:50:46 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:50:46 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:50:46 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:50:46 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:50:46 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:50:46 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:50:46 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:50:46 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:50:46 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:50:46 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:50:46 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:50:47 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:50:47 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:50:47 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:50:47 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:50:47 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:50:47 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:50:47 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:50:48 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:50:48 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:50:48 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:50:48 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:50:48 INFO [main] Started ChatWaitConnectQueueCacheTest in 5.83 seconds (JVM running for 8.696)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:50:49 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:50:49 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:50:49 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:50:49 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:50:49 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:50:49 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:50:49 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:50:49 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:50:49 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-18 20:51:46 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:51:46 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:51:47 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:51:47 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@119020fb, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3d9f6567, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@c055c54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@25e2ab5a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@35e5d0e5, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73173f63, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55562aa9, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@655ef322, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7e276594, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3401a114, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5066d65f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4233e892]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:51:48 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 8352 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:51:48 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:51:49 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:51:49 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:51:49 INFO [main] Finished Spring Data repository scanning in 29ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:51:49 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:51:49 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:51:49 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:51:50 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:51:51 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:51:51 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@2c3158e0,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:51:51 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:51:51 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:51:51 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:51:51 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:51:51 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:51:51 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:51:51 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:51:51 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:51:51 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:51:51 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:51:51 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:51:52 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:51:52 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:51:52 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:51:52 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:51:52 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:51:52 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:51:52 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:51:53 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:51:54 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:51:54 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:51:54 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:51:54 INFO [main] Started ChatWaitConnectQueueCacheTest in 7.095 seconds (JVM running for 10.263)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:51:55 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:51:55 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:51:55 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:51:55 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:51:55 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:51:55 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:51:55 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:51:55 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:51:55 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-18 20:52:41 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:52:41 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:52:42 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:52:42 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3401a114, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5066d65f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4233e892, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77d2e85, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3ecd267f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58ffcbd7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@555cf22, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3c9bfddc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1a9c38eb, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@319bc845, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4c5474f5]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:52:43 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 8876 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:52:43 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:52:44 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:52:44 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:52:45 INFO [main] Finished Spring Data repository scanning in 50ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:52:45 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:52:45 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:52:45 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:52:46 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:52:46 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:52:46 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@4c531172,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:52:46 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:52:46 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:52:46 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:52:46 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:52:46 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:52:46 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:52:46 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:52:46 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:52:46 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:52:46 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:52:46 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:52:47 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:52:47 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:52:47 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:52:47 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:52:47 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:52:47 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:52:47 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:52:48 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:52:48 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:52:48 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:52:48 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:52:48 INFO [main] Started ChatWaitConnectQueueCacheTest in 6.188 seconds (JVM running for 9.364)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:52:49 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:52:49 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:52:49 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:52:49 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:52:49 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:52:49 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:52:49 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:52:49 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:52:49 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-18 20:53:21 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:53:21 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:53:22 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:53:22 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@555cf22, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6bb2d00b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3c9bfddc, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1a9c38eb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@319bc845, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4c5474f5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2f4205be, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3bd418e4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@544820b7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6b98a075, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2e61d218]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:53:23 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 3076 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:53:23 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:53:24 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:53:25 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:53:25 INFO [main] Finished Spring Data repository scanning in 28ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:53:25 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:53:25 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:53:25 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:53:26 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:53:26 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:53:26 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@31f77791,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:53:26 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:53:26 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:53:26 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:53:26 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:53:26 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:53:26 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:53:26 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:53:26 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:53:26 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:53:26 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:53:26 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:53:27 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:53:28 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:53:28 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:53:28 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:53:28 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:53:28 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:53:28 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:53:28 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:53:29 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:53:29 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:53:29 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:53:29 INFO [main] Started ChatWaitConnectQueueCacheTest in 6.49 seconds (JVM running for 9.395)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:53:30 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:53:30 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:53:30 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:53:30 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:53:30 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:53:30 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:53:30 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:53:30 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:53:30 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-18 20:55:07 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:55:07 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:55:08 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:55:08 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@655ef322, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e276594, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3401a114, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5066d65f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4233e892, org.springframework.test.context.transaction.TransactionalTestExecutionListener@77d2e85, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3ecd267f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3c9bfddc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1a9c38eb]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:55:09 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 10648 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:55:09 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:55:10 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:55:10 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:55:10 INFO [main] Finished Spring Data repository scanning in 28ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:55:10 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:55:10 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:55:10 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:55:11 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:55:12 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:55:12 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@1cbc5693,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:55:12 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:55:12 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:55:12 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:55:12 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:55:12 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:55:12 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:55:12 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:55:12 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:55:12 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:55:12 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:55:12 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:55:12 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:55:13 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:55:13 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:55:13 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:55:13 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:55:13 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:55:13 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:55:13 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:55:14 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:14 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:14 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:14 INFO [main] Started ChatWaitConnectQueueCacheTest in 5.837 seconds (JVM running for 8.53)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:55:15 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:15 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:15 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:15 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:55:15 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:55:15 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:55:15 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:55:15 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:55:15 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-18 20:55:24 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-18 20:55:24 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.ChatWaitConnectQueueCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-18 20:55:25 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-18 20:55:25 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61ce23ac, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3668d4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1c3b9394, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6f2cfcc2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7f6f61c8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4c2cc639, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@ccb4b1b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4097cac, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@ec2cc4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2a5b3fee, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7c1e2a2d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@333dd51e]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-18 20:55:26 INFO [main] Starting ChatWaitConnectQueueCacheTest on USER-20190205PX with PID 4680 (started by Administrator in E:\workspace\xudong-server\xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-18 20:55:26 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-18 20:55:27 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:55:27 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:55:27 INFO [main] Finished Spring Data repository scanning in 26ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:55:27 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-18 20:55:27 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-18 20:55:27 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-18 20:55:28 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/E:/java/maven-repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-18 20:55:28 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:55:28 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@415795f3,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-18 20:55:28 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:55:28 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-18 20:55:28 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:55:28 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-18 20:55:28 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-18 20:55:28 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-18 20:55:29 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-18 20:55:29 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-18 20:55:29 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-18 20:55:29 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-18 20:55:29 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-18 20:55:29 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-18 20:55:30 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:55:30 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:55:30 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:55:30 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-18 20:55:30 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-18 20:55:30 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-18 20:55:30 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-18 20:55:31 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:31 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:31 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:31 INFO [main] Started ChatWaitConnectQueueCacheTest in 6.054 seconds (JVM running for 8.972)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-18 20:55:32 INFO [Thread-3] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:32 INFO [Thread-3] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:32 INFO [Thread-3] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-18 20:55:32 INFO [Thread-3] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:55:32 INFO [Thread-3] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:55:32 INFO [Thread-3] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:55:32 INFO [Thread-3] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-18 20:55:32 INFO [Thread-3] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-18 20:55:32 INFO [Thread-3] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 19:47:14 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.session.UserAgentSessionTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:47:14 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.session.UserAgentSessionTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:47:14 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:47:14 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6995bf68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5143c662, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71c27ee8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e7dd664, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b1ebf56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1b835480, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3549bca9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f25b795]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:47:15 INFO [main] Starting UserAgentSessionTest on evan-macbook.local with PID 18016 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:47:15 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:47:16 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:47:16 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:47:16 INFO [main] Finished Spring Data repository scanning in 31ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:47:16 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:47:16 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:47:16 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:47:18 WARN [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}。Caller+0	 at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:557)
19-06-19 19:47:18 ERROR [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userAgentSession in com.xudong.im.config.ApplicationBeansConfiguration required a bean of type 'com.xudong.im.session.UserAgentSession' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.xudong.im.session.UserAgentSession' in your configuration.
。Caller+0	 at org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter.report(LoggingFailureAnalysisReporter.java:42)
19-06-19 19:47:18 INFO [main] Starting UserAgentSessionTest on evan-macbook.local with PID 18016 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:47:18 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:47:19 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:47:19 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:47:19 INFO [main] Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:47:19 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:47:19 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:47:19 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:47:19 WARN [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}。Caller+0	 at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:557)
19-06-19 19:47:19 ERROR [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userAgentSession in com.xudong.im.config.ApplicationBeansConfiguration required a bean of type 'com.xudong.im.session.UserAgentSession' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.xudong.im.session.UserAgentSession' in your configuration.
。Caller+0	 at org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter.report(LoggingFailureAnalysisReporter.java:42)
19-06-19 19:47:19 ERROR [main] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2] to prepare test instance [test.com.xudong.im.session.UserAgentSessionTest@236fdf]。Caller+0	 at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:250)
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:843)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1655)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1214)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 43 common frames omitted
19-06-19 19:49:24 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.session.UserAgentSessionTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:49:24 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.session.UserAgentSessionTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:49:25 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:49:25 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@512535ff, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@71529963, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@61a88b8c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@22295ec4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5adb0db3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3f270e0a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a760689, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7241a47d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@70f59913, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@77258e59, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5dcd8c7a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2250b9f2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:49:26 INFO [main] Starting UserAgentSessionTest on evan-macbook.local with PID 18079 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:49:26 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:49:27 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:49:27 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:49:27 INFO [main] Finished Spring Data repository scanning in 29ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:49:27 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:49:27 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:49:27 INFO [main] Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:49:28 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$bc74c5e0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:49:28 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:49:28 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:49:28 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:49:28 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$ab9d51ae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:49:28 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:49:28 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7bf55bf3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:49:29 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 19:49:29 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 19:49:29 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 19:49:29 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 19:49:29 INFO [main] Root WebApplicationContext: initialization completed in 3391 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 19:49:29 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 19:49:30 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@7ed7ae,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 19:49:30 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:49:30 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:49:30 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:49:30 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:49:30 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:49:30 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:49:30 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:49:30 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:49:30 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:49:30 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:49:30 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 19:49:30 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:49:30 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:49:30 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:49:30 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:49:30 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:49:30 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:49:30 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:49:30 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:49:31 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:49:31 INFO [cluster-ClusterId{value='5d0a214bb302b0469f7788ab', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37818}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:49:31 INFO [cluster-ClusterId{value='5d0a214bb302b0469f7788ab', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=8978935}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:49:31 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 19:49:31 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 19:49:31 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 19:49:31 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 19:49:32 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 19:49:32 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:49:32 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:49:32 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:49:32 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:49:32 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:49:32 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 19:49:33 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:95)
19-06-19 19:49:34 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:49:34 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 19:49:34 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 19:49:34 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:49:34 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:49:34 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:49:34 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:49:34 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:49:34 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:49:34 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:49:34 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:49:34 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 19:49:35 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:49:35 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:49:35 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:49:35 INFO [main] Tomcat started on port(s): 52653 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 19:49:36 INFO [main] Started UserAgentSessionTest in 10.742 seconds (JVM running for 12.434)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 19:49:36 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [com.xudong.im.domain.user.StaffAgent@76ccde41]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 19:49:36 DEBUG [main] Wed Jun 19 19:49:36 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 19:49:36 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 19:49:36 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 19:49:36 INFO [main] >>>>>testGetOnlineStaffs:[]。Caller+0	 at test.com.xudong.im.session.UserAgentSessionTest.testGetOnlineStaffs(UserAgentSessionTest.java:71)
19-06-19 19:49:36 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:49:36 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:49:36 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:49:36 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:49:36 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:49:36 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:49:36 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:49:36 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 19:49:36 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 19:50:35 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.service.BlacklistServiceTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:50:35 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.service.BlacklistServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:50:36 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:50:36 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6995bf68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5143c662, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71c27ee8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e7dd664, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b1ebf56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1b835480, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3549bca9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f25b795]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:50:37 INFO [main] Starting BlacklistServiceTest on evan-macbook.local with PID 18102 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:50:37 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:50:38 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:50:38 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:50:38 INFO [main] Finished Spring Data repository scanning in 27ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:50:38 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:50:38 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:50:38 INFO [main] Finished Spring Data repository scanning in 4ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:50:39 WARN [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}。Caller+0	 at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:557)
19-06-19 19:50:39 ERROR [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userAgentSession in com.xudong.im.config.ApplicationBeansConfiguration required a bean of type 'com.xudong.im.session.UserAgentSession' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.xudong.im.session.UserAgentSession' in your configuration.
。Caller+0	 at org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter.report(LoggingFailureAnalysisReporter.java:42)
19-06-19 19:50:39 INFO [main] Starting BlacklistServiceTest on evan-macbook.local with PID 18102 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:50:39 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:50:39 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:50:39 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:50:39 INFO [main] Finished Spring Data repository scanning in 6ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:50:39 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:50:39 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:50:39 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:50:39 WARN [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}。Caller+0	 at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:557)
19-06-19 19:50:39 ERROR [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userAgentSession in com.xudong.im.config.ApplicationBeansConfiguration required a bean of type 'com.xudong.im.session.UserAgentSession' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.xudong.im.session.UserAgentSession' in your configuration.
。Caller+0	 at org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter.report(LoggingFailureAnalysisReporter.java:42)
19-06-19 19:50:39 ERROR [main] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2] to prepare test instance [test.com.xudong.im.service.BlacklistServiceTest@3592c1c4]。Caller+0	 at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:250)
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:843)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1655)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1214)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 43 common frames omitted
19-06-19 19:51:42 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.service.BlacklistServiceTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:51:42 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.service.BlacklistServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:51:43 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:51:43 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6995bf68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5143c662, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71c27ee8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e7dd664, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b1ebf56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1b835480, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3549bca9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f25b795]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:51:43 INFO [main] Starting BlacklistServiceTest on evan-macbook.local with PID 18135 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:51:43 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:51:44 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:51:44 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:51:44 INFO [main] Finished Spring Data repository scanning in 43ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:51:45 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:51:45 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:51:45 INFO [main] Finished Spring Data repository scanning in 1ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:51:45 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 19:51:46 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@46fb0c33,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 19:51:46 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:51:46 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:51:46 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:51:46 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:51:46 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:51:46 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:51:46 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:51:46 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:51:46 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:51:46 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:51:46 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:51:46 INFO [cluster-ClusterId{value='5d0a21d2b302b046d7890e93', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37819}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:51:46 INFO [cluster-ClusterId{value='5d0a21d2b302b046d7890e93', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=16108536}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:51:46 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:51:46 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:51:46 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:51:46 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:51:46 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:51:46 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:51:46 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:51:46 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:51:46 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 19:51:47 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 19:51:47 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 19:51:47 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 19:51:47 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 19:51:47 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:51:47 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:51:47 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:51:47 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:51:47 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:51:47 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 19:51:48 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:51:48 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 19:51:48 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 19:51:48 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:51:48 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 19:51:48 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:51:48 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:51:48 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:51:48 INFO [main] Started BlacklistServiceTest in 5.631 seconds (JVM running for 7.373)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 19:51:49 INFO [Thread-4] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:51:49 INFO [Thread-4] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:51:49 INFO [Thread-4] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:51:49 INFO [Thread-4] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:51:49 INFO [Thread-4] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:51:49 INFO [Thread-4] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:51:49 INFO [Thread-4] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:51:49 INFO [Thread-4] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 19:51:49 INFO [Thread-4] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 19:54:56 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.service.BlacklistServiceTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:54:56 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.service.BlacklistServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:54:57 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:54:57 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6995bf68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5143c662, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71c27ee8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e7dd664, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b1ebf56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1b835480, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3549bca9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f25b795]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:54:58 INFO [main] Starting BlacklistServiceTest on evan-macbook.local with PID 18204 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:54:58 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:54:59 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:54:59 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:54:59 INFO [main] Finished Spring Data repository scanning in 31ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:54:59 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:54:59 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:54:59 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:55:00 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 19:55:00 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@61db86bf,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 19:55:00 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:55:00 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:55:00 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:55:00 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:55:00 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:55:00 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:55:00 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:55:00 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:55:00 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:55:00 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:55:01 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:55:01 INFO [cluster-ClusterId{value='5d0a2295b302b0471c8108ad', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37820}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:55:01 INFO [cluster-ClusterId{value='5d0a2295b302b0471c8108ad', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=6330649}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:55:01 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:55:01 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:55:01 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:55:01 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:55:01 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:55:01 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:55:01 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:55:01 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:55:01 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 19:55:01 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 19:55:01 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 19:55:01 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 19:55:01 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 19:55:02 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:55:02 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:55:02 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:55:02 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:55:02 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:55:02 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 19:55:02 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:55:02 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 19:55:02 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 19:55:02 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:55:02 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 19:55:03 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:55:03 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:55:03 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:55:03 INFO [main] Started BlacklistServiceTest in 5.964 seconds (JVM running for 7.735)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 19:56:12 INFO [MessageBroker-1] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]。Caller+0	 at org.springframework.web.socket.config.WebSocketMessageBrokerStats.lambda$initLoggingTask$0(WebSocketMessageBrokerStats.java:124)
19-06-19 19:56:12 INFO [Thread-4] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:12 INFO [Thread-4] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:12 INFO [Thread-4] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:12 INFO [Thread-4] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:56:12 INFO [Thread-4] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:56:12 INFO [Thread-4] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:56:12 INFO [Thread-4] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:56:12 INFO [Thread-4] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 19:56:12 INFO [Thread-4] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 19:56:16 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.service.BlacklistServiceTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:56:16 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.service.BlacklistServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:56:16 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:56:16 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6995bf68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5143c662, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71c27ee8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e7dd664, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b1ebf56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1b835480, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3549bca9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f25b795]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:56:17 INFO [main] Starting BlacklistServiceTest on evan-macbook.local with PID 18231 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:56:17 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:56:18 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:56:18 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:56:18 INFO [main] Finished Spring Data repository scanning in 42ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:56:18 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:56:18 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:56:18 INFO [main] Finished Spring Data repository scanning in 5ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:56:19 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 19:56:20 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@7b25ab31,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 19:56:20 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:56:20 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:56:20 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:56:20 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:56:20 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:56:20 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:56:20 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:56:20 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:56:20 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:56:20 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:56:20 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:56:20 INFO [cluster-ClusterId{value='5d0a22e4b302b04737e07880', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37821}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:56:20 INFO [cluster-ClusterId{value='5d0a22e4b302b04737e07880', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=14914953}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:56:21 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:56:21 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:56:21 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:56:21 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:56:21 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:56:21 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:56:21 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:56:21 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:56:21 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 19:56:21 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 19:56:21 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 19:56:21 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 19:56:21 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 19:56:22 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:56:22 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:56:22 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:56:22 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:56:22 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:56:22 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 19:56:22 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:56:22 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 19:56:22 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 19:56:22 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:56:22 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 19:56:23 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:23 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:23 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:23 INFO [main] Started BlacklistServiceTest in 6.532 seconds (JVM running for 8.276)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 19:56:34 DEBUG [main] ==>  Preparing: select bl.id ,bl.gmt_create ,bl.gmt_modify ,bl.is_deleted ,bl.status ,bl.content FROM black_list bl WHERE bl.is_deleted=0 and bl.status = ? order by bl.gmt_create DESC,bl.id desc 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:56:34 DEBUG [main] ==> Parameters: 1(Integer)。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:56:34 DEBUG [main] <==      Total: 11。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:56:34 INFO [main] ====>>testIsBlock 183.12.21.1 :true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:23)
19-06-19 19:56:34 INFO [main] ====>>testIsBlock 189.54.2.1 :true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:26)
19-06-19 19:56:34 INFO [main] ====>>testIsBlock 11.22.33.11 :true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:29)
19-06-19 19:56:34 INFO [main] ====>>testIsBlock 129.22.33.9 :false。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:32)
19-06-19 19:56:34 INFO [main] ====>>testIsBlock 189.54.23.44:true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:35)
19-06-19 19:56:34 INFO [main] ====>>testIsBlock 13565202553:true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:38)
19-06-19 19:56:34 INFO [Thread-4] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:34 INFO [Thread-4] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:34 INFO [Thread-4] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:56:34 INFO [Thread-4] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:56:34 INFO [Thread-4] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:56:34 INFO [Thread-4] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:56:34 INFO [Thread-4] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:56:34 INFO [Thread-4] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 19:56:34 INFO [Thread-4] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 19:57:08 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mapper.BlackListMapperTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:57:08 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mapper.BlackListMapperTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:57:08 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:57:08 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@503ecb24, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c51cf28, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5143c662, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77825085, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3568f9d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@71c27ee8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3e7dd664, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5b1ebf56, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1b835480]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:57:09 INFO [main] Starting BlackListMapperTest on evan-macbook.local with PID 18255 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:57:09 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:57:10 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:57:10 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:57:10 INFO [main] Finished Spring Data repository scanning in 40ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:57:10 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:57:10 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:57:10 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:57:11 WARN [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}。Caller+0	 at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:557)
19-06-19 19:57:11 ERROR [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userAgentSession in com.xudong.im.config.ApplicationBeansConfiguration required a bean of type 'com.xudong.im.session.UserAgentSession' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.xudong.im.session.UserAgentSession' in your configuration.
。Caller+0	 at org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter.report(LoggingFailureAnalysisReporter.java:42)
19-06-19 19:57:11 INFO [main] Starting BlackListMapperTest on evan-macbook.local with PID 18255 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:57:11 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:57:11 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:57:11 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:57:12 INFO [main] Finished Spring Data repository scanning in 5ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:57:12 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:57:12 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:57:12 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:57:12 WARN [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}。Caller+0	 at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:557)
19-06-19 19:57:12 ERROR [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userAgentSession in com.xudong.im.config.ApplicationBeansConfiguration required a bean of type 'com.xudong.im.session.UserAgentSession' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.xudong.im.session.UserAgentSession' in your configuration.
。Caller+0	 at org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter.report(LoggingFailureAnalysisReporter.java:42)
19-06-19 19:57:12 ERROR [main] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5143c662] to prepare test instance [test.com.xudong.im.data.mapper.BlackListMapperTest@4ea17147]。Caller+0	 at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:250)
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationBeansConfiguration': Unsatisfied dependency expressed through field 'userAgentSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:843)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.xudong.im.session.UserAgentSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1655)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1214)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1168)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 43 common frames omitted
19-06-19 19:57:57 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.service.LoginServiceTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:57:57 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.service.LoginServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:57:58 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:57:58 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6995bf68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5143c662, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71c27ee8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e7dd664, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b1ebf56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1b835480, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3549bca9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f25b795]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:57:59 INFO [main] Starting LoginServiceTest on evan-macbook.local with PID 18276 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:57:59 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:58:00 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:58:00 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:58:00 INFO [main] Finished Spring Data repository scanning in 28ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:58:00 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:58:00 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:58:00 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:58:01 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 19:58:01 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@6f347d7,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 19:58:01 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:01 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:58:01 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:58:01 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:58:01 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:58:01 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:01 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:58:01 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:58:01 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:58:01 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:02 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:58:02 INFO [cluster-ClusterId{value='5d0a234ab302b04764cb09fd', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37822}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:58:02 INFO [cluster-ClusterId{value='5d0a234ab302b04764cb09fd', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=8607591}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:58:02 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:02 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:58:02 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:02 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:58:02 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:58:02 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:58:02 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:58:02 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:58:02 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 19:58:02 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 19:58:02 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 19:58:02 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 19:58:02 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 19:58:03 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:58:03 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:58:03 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:58:03 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:58:03 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:58:03 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 19:58:03 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:58:03 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 19:58:03 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 19:58:03 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:58:03 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 19:58:04 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:04 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:04 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:04 INFO [main] Started LoginServiceTest in 6.158 seconds (JVM running for 7.944)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 19:58:04 DEBUG [main] >>>> login success, usertype [1], account [227044550], id [1]。Caller+0	 at com.xudong.im.service.LoginService.login(LoginService.java:40)
19-06-19 19:58:04 INFO [main] ====>testLogin:OperateResult{code='SUCCESS', msg='成功', serversion='null', data=com.xudong.im.domain.user.StaffAgent@4a6ef712}。Caller+0	 at test.com.xudong.im.service.LoginServiceTest.testLogin(LoginServiceTest.java:35)
19-06-19 19:58:04 INFO [Thread-4] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:04 INFO [Thread-4] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:04 INFO [Thread-4] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:04 INFO [Thread-4] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:58:04 INFO [Thread-4] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:58:04 INFO [Thread-4] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:58:04 INFO [Thread-4] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:58:04 INFO [Thread-4] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 19:58:04 INFO [Thread-4] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 19:58:33 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.web.StaffLoginControllerTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 19:58:33 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.web.StaffLoginControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 19:58:33 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 19:58:33 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61a88b8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22295ec4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5adb0db3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3f270e0a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a760689, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7241a47d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70f59913, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77258e59, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5dcd8c7a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2250b9f2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7e3181aa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@253d9f73]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 19:58:34 INFO [main] Starting StaffLoginControllerTest on evan-macbook.local with PID 18290 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 19:58:34 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 19:58:36 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:58:36 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:58:36 INFO [main] Finished Spring Data repository scanning in 30ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:58:36 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 19:58:36 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 19:58:36 INFO [main] Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 19:58:37 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$52b1456b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:58:37 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:58:37 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:58:37 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:58:37 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$41d9d139] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:58:37 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:58:37 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1231db7e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 19:58:37 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 19:58:37 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 19:58:37 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 19:58:37 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 19:58:37 INFO [main] Root WebApplicationContext: initialization completed in 3037 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 19:58:38 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 19:58:38 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@395a573c,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 19:58:38 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:38 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:58:38 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:58:38 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:58:38 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:58:38 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:38 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:58:38 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:58:38 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:58:38 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:38 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 19:58:38 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:38 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:58:38 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 19:58:38 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 19:58:38 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 19:58:38 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 19:58:38 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:58:38 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 19:58:39 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:58:39 INFO [cluster-ClusterId{value='5d0a236fb302b047723dc57c', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37825}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:58:39 INFO [cluster-ClusterId{value='5d0a236fb302b047723dc57c', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=9271267}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 19:58:39 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 19:58:39 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 19:58:39 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 19:58:39 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 19:58:40 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 19:58:40 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:58:40 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:58:40 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:58:40 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:58:40 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 19:58:40 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 19:58:41 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:95)
19-06-19 19:58:43 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:58:43 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 19:58:43 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 19:58:43 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 19:58:43 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:58:43 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:58:43 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:58:43 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:58:43 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:58:43 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:58:43 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 19:58:43 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 19:58:45 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:45 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:45 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:45 INFO [main] Tomcat started on port(s): 52818 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 19:58:45 INFO [main] Started StaffLoginControllerTest in 11.221 seconds (JVM running for 12.758)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 19:58:45 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [com.xudong.im.domain.user.StaffAgent@76ccde41]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 19:58:45 DEBUG [main] Wed Jun 19 19:58:45 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 19:58:45 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 19:58:45 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 19:58:45 INFO [main] =====>> HttpRequest[[Accept:"application/json, application/*+json", Content-Length:"0", token:"c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1", X-Forwarded-For:"192.168.18.53"]],uri:http://127.0.0.1:52818/login?account=acc6886&random=random8375。Caller+0	 at com.xudong.core.restful.TokenClientHttpRequestInterceptor.intercept(TokenClientHttpRequestInterceptor.java:41)
19-06-19 19:58:45 INFO [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 19:58:45 INFO [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:524)
19-06-19 19:58:45 INFO [http-nio-auto-1-exec-1] Completed initialization in 28 ms。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:546)
19-06-19 19:58:46 DEBUG [http-nio-auto-1-exec-1] >>>> login success, usertype [1], account [acc6886], id [1]。Caller+0	 at com.xudong.im.service.LoginService.login(LoginService.java:40)
19-06-19 19:58:46 DEBUG [http-nio-auto-1-exec-1] Put redis objectTypeKey is [StaffAgentCache],objectKey is [672406bad8467ccd60cf2ad03b16e79a43e71eda], value is [com.xudong.im.domain.user.StaffAgent@7881ae2c]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 19:58:46 DEBUG [http-nio-auto-1-exec-1] Wed Jun 19 19:58:46 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 19:58:46 DEBUG [http-nio-auto-1-exec-1] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 19:58:46 DEBUG [http-nio-auto-1-exec-1] >>>>> 存储用户会话，userAgentCacheKey【672406bad8467ccd60cf2ad03b16e79a43e71eda】，id【1】，ip【192.168.18.53】,account【acc6886】,token【1e6873ba956296bcf83cc62a9aad7f55ad9c512c019fb08e25a99e7ac99d9d2f64f059a0ab6e211ce6867405c291b7aa】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 19:58:46 INFO [main] ====>> testLogin : ApiResponse{page=null} OperateResult{code='SUCCESS', msg='成功', serversion='null', data={id=1, account=acc6886, remoteAddr=192.168.18.53, token=1e6873ba956296bcf83cc62a9aad7f55ad9c512c019fb08e25a99e7ac99d9d2f64f059a0ab6e211ce6867405c291b7aa, tokenSecret=2035a1580e4ce0f4c441c0a3babce3cfefc759d2fc92f8af20734f8d551ff81a6c584a6a557f5a9b3ab6312839354416, onlineStatus=1}}。Caller+0	 at test.com.xudong.im.web.StaffLoginControllerTest.testLogin(StaffLoginControllerTest.java:27)
19-06-19 19:58:46 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:46 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:46 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 19:58:46 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:58:46 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:58:46 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:58:46 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 19:58:46 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 19:58:46 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:00:07 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.session.UserAgentSessionTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:00:07 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.session.UserAgentSessionTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:00:07 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:00:07 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61a88b8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22295ec4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5adb0db3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3f270e0a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a760689, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7241a47d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70f59913, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77258e59, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5dcd8c7a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2250b9f2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7e3181aa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@253d9f73]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:00:08 INFO [main] Starting UserAgentSessionTest on evan-macbook.local with PID 18327 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:00:08 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:00:10 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:00:10 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:00:10 INFO [main] Finished Spring Data repository scanning in 37ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:00:10 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:00:10 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:00:10 INFO [main] Finished Spring Data repository scanning in 12ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:00:11 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$c33817a3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:00:11 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:00:11 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:00:11 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:00:11 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$b260a371] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:00:11 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:00:11 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$82b8adb6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:00:11 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 20:00:11 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:00:11 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:00:11 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:00:11 INFO [main] Root WebApplicationContext: initialization completed in 3268 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 20:00:12 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:00:12 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@27d73d22,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:00:12 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:00:12 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:00:12 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:00:12 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:00:12 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:00:12 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:00:12 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:00:12 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:00:12 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:00:12 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:00:12 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 20:00:12 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:00:12 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:00:12 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:00:12 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:00:12 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:00:12 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:00:12 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:00:12 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:00:13 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:00:13 INFO [cluster-ClusterId{value='5d0a23cdb302b04797c303c4', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37826}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:00:13 INFO [cluster-ClusterId{value='5d0a23cdb302b04797c303c4', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=10874828}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:00:13 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:00:13 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:00:13 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:00:13 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:00:13 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:00:14 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:00:14 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:00:14 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:00:14 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:00:14 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:00:14 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:00:15 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:95)
19-06-19 20:00:15 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:00:15 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 20:00:15 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 20:00:15 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:00:15 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:00:15 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:00:15 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:00:15 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:00:15 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:00:15 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:00:15 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:00:15 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 20:00:17 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:00:17 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:00:17 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:00:17 INFO [main] Tomcat started on port(s): 52854 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 20:00:17 INFO [main] Started UserAgentSessionTest in 9.288 seconds (JVM running for 10.991)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:00:17 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [com.xudong.im.domain.user.StaffAgent@7afac89a]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:00:17 DEBUG [main] Wed Jun 19 20:00:17 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:00:17 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:00:17 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 20:00:17 INFO [main] >>>>>testGetOnlineStaffs:[com.xudong.im.domain.user.StaffAgent@5643052d]。Caller+0	 at test.com.xudong.im.session.UserAgentSessionTest.testGetOnlineStaffs(UserAgentSessionTest.java:71)
19-06-19 20:00:17 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:00:17 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:00:17 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:00:17 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:00:17 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:00:17 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:00:17 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:00:17 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:00:17 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:02:09 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.session.UserAgentSessionTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:02:09 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.session.UserAgentSessionTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:02:09 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:02:09 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61a88b8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22295ec4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5adb0db3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3f270e0a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a760689, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7241a47d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70f59913, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77258e59, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5dcd8c7a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2250b9f2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7e3181aa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@253d9f73]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:02:10 INFO [main] Starting UserAgentSessionTest on evan-macbook.local with PID 18375 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:02:10 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:02:11 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:02:11 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:02:11 INFO [main] Finished Spring Data repository scanning in 32ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:02:11 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:02:11 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:02:11 INFO [main] Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:02:12 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$32b4334] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:02:12 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:02:12 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:02:12 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:02:12 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$f253cf02] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:02:12 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:02:12 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c2abd947] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:02:13 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 20:02:13 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:02:13 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:02:13 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:02:13 INFO [main] Root WebApplicationContext: initialization completed in 3103 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 20:02:13 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:02:14 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@6fde6f05,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:02:14 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:02:14 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:02:14 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:02:14 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:02:14 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:02:14 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:02:14 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:02:14 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:02:14 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:02:14 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:02:14 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 20:02:14 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:02:14 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:02:14 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:02:14 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:02:14 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:02:14 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:02:14 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:02:14 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:02:14 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:02:14 INFO [cluster-ClusterId{value='5d0a2446b302b047c76f4395', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37827}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:02:14 INFO [cluster-ClusterId{value='5d0a2446b302b047c76f4395', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=11225165}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:02:15 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:02:15 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:02:15 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:02:15 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:02:15 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:02:16 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:02:16 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:02:16 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:02:16 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:02:16 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:02:16 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:02:16 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:95)
19-06-19 20:02:17 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:02:17 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 20:02:17 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 20:02:17 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:02:17 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:02:17 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:02:17 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:02:17 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:02:17 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:02:17 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:02:17 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:02:17 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 20:02:18 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:02:18 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:02:18 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:02:18 INFO [main] Tomcat started on port(s): 52880 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 20:02:18 INFO [main] Started UserAgentSessionTest in 8.985 seconds (JVM running for 10.873)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:02:19 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=null}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:02:19 DEBUG [main] Wed Jun 19 20:02:19 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:02:19 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:02:19 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 20:02:19 INFO [main] >>>>>testGetOnlineStaffs:[UserAgent{id='1', account='acc6886', mobile='null', userName='null', remoteAddr='192.168.18.53', status=null, token='1e6873ba956296bcf83cc62a9aad7f55ad9c512c019fb08e25a99e7ac99d9d2f64f059a0ab6e211ce6867405c291b7aa', tokenSecret='2035a1580e4ce0f4c441c0a3babce3cfefc759d2fc92f8af20734f8d551ff81a6c584a6a557f5a9b3ab6312839354416', userAgentHeader='null', lastLoginTime=null, onlineStatus=1}]。Caller+0	 at test.com.xudong.im.session.UserAgentSessionTest.testGetOnlineStaffs(UserAgentSessionTest.java:71)
19-06-19 20:02:19 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:02:19 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:02:19 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:02:19 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:02:19 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:02:19 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:02:19 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:02:19 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:02:19 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:10:43 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.cache.TalkSkillCacheTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:10:43 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.cache.TalkSkillCacheTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:10:43 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:10:43 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@503ecb24, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c51cf28, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5143c662, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77825085, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3568f9d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@71c27ee8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3e7dd664, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5b1ebf56, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1b835480]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:10:44 INFO [main] Starting TalkSkillCacheTest on evan-macbook.local with PID 18609 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:10:44 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:10:45 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-19 20:10:45 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:10:45 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:10:45 INFO [main] Finished Spring Data repository scanning in 13ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:10:45 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:10:45 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:10:45 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:10:46 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:10:46 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:10:46 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@1946384,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:10:46 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:10:46 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:10:46 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:10:46 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:10:46 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:10:46 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:10:46 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:10:47 INFO [main] Started TalkSkillCacheTest in 3.683 seconds (JVM running for 5.356)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:10:48 INFO [main] ====testGetList:[TalkSkill [ id=12, gmtCreate=Sat Jun 15 02:58:10 CST 2019, gmtModify=Sat Jun 15 03:09:35 CST 2019, isDeleted=0, status=1, content=如果谁都可以帮您办理这么重要的业务，那对您的利益是很没有保障的], TalkSkill [ id=11, gmtCreate=Sat Jun 15 02:35:32 CST 2019, gmtModify=Sat Jun 15 02:35:32 CST 2019, isDeleted=0, status=1, content=这样做主要是为了保护您的利益], TalkSkill [ id=1, gmtCreate=Sat Jun 08 11:42:39 CST 2019, gmtModify=Sat Jun 08 11:42:39 CST 2019, isDeleted=0, status=1, content=请问还有其他问题可以帮到您吗？], TalkSkill [ id=3, gmtCreate=Sun Jun 09 01:10:44 CST 2019, gmtModify=Sun Jun 09 01:10:44 CST 2019, isDeleted=0, status=1, content=很抱歉，我们不提供此项服务。], TalkSkill [ id=14, gmtCreate=Sat Jun 15 03:33:20 CST 2019, gmtModify=Sat Jun 15 03:33:37 CST 2019, isDeleted=0, status=1, content=请问我的解释你清楚吗？], TalkSkill [ id=8, gmtCreate=Fri Jun 14 06:23:47 CST 2019, gmtModify=Fri Jun 14 13:28:10 CST 2019, isDeleted=0, status=1, content=您好，请问有什么可以帮助你的？], TalkSkill [ id=7, gmtCreate=Fri Jun 14 06:23:09 CST 2019, gmtModify=Fri Jun 14 13:28:21 CST 2019, isDeleted=0, status=1, content=很高兴为你服务], TalkSkill [ id=13, gmtCreate=Sat Jun 15 03:33:09 CST 2019, gmtModify=Sat Jun 15 03:33:09 CST 2019, isDeleted=0, status=1, content=非常感谢您这么好的建议，我们会向上反映，因为有了您的建议，我们才会不断进步], TalkSkill [ id=9, gmtCreate=Fri Jun 14 06:44:50 CST 2019, gmtModify=Fri Jun 14 09:26:47 CST 2019, isDeleted=0, status=1, content=非常抱歉，以上提出的问题我司会进一步加强改进,针对我们的每一位用户我司是非常重视,一定会给您一个满意的答复], TalkSkill [ id=10, gmtCreate=Fri Jun 14 23:34:43 CST 2019, gmtModify=Sat Jun 15 02:34:08 CST 2019, isDeleted=0, status=1, content=你好，还有什么其他问题吗？], TalkSkill [ id=5, gmtCreate=Thu Jun 13 05:09:04 CST 2019, gmtModify=Thu Jun 13 05:09:04 CST 2019, isDeleted=0, status=1, content=不客气，这是我应该做的，请问您还需要其他帮助吗？], TalkSkill [ id=2, gmtCreate=Sat Jun 08 11:51:35 CST 2019, gmtModify=Fri Jun 14 06:29:05 CST 2019, isDeleted=0, status=1, content=您好，本店产品不是最低价，因为价格并不是您在购买产品时考虑的唯一因素，对吗?您考虑的是这个产品能给您带来的价值，对吗?], TalkSkill [ id=4, gmtCreate=Thu Jun 13 03:57:52 CST 2019, gmtModify=Fri Jun 14 13:30:06 CST 2019, isDeleted=0, status=1, content=非常抱歉，没有帮到你]]。Caller+0	 at test.com.xudong.im.cache.TalkSkillCacheTest.testGetList(TalkSkillCacheTest.java:42)
19-06-19 20:11:18 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mapper.BlackListMapperTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:11:18 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mapper.BlackListMapperTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:11:18 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:11:18 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@503ecb24, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c51cf28, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5143c662, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77825085, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3568f9d2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@71c27ee8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3e7dd664, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5b1ebf56, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1b835480]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:11:19 INFO [main] Starting BlackListMapperTest on evan-macbook.local with PID 18629 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:11:19 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:11:20 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:11:20 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:11:20 INFO [main] Finished Spring Data repository scanning in 27ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:11:20 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:11:20 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:11:20 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:11:20 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:11:20 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:11:20 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:11:20 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:11:21 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:11:22 INFO [main] Started BlackListMapperTest in 3.672 seconds (JVM running for 5.82)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:11:22 DEBUG [main] ==>  Preparing: select bl.id ,bl.gmt_create ,bl.gmt_modify ,bl.is_deleted ,bl.status ,bl.content FROM black_list bl WHERE bl.is_deleted=0 order by bl.gmt_create DESC,bl.id desc 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:22 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:22 DEBUG [main] <==      Total: 20。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:22 INFO [main] =======>> testQueryList [BlackList [ id=26, gmtCreate=Sat Jun 15 03:32:41 CST 2019, gmtModify=Sun Jun 16 09:55:27 CST 2019, isDeleted=0, status=1, content=183.12.21.*], BlackList [ id=25, gmtCreate=Sat Jun 15 03:09:49 CST 2019, gmtModify=Sun Jun 16 10:00:57 CST 2019, isDeleted=0, status=1, content=189.54.*.*], BlackList [ id=24, gmtCreate=Fri Jun 14 22:59:09 CST 2019, gmtModify=Sun Jun 16 09:54:58 CST 2019, isDeleted=0, status=1, content=11.22.33.11-11.22.33.30], BlackList [ id=22, gmtCreate=Fri Jun 14 09:39:27 CST 2019, gmtModify=Fri Jun 14 09:39:27 CST 2019, isDeleted=0, status=1, content=189.54.23.44], BlackList [ id=20, gmtCreate=Thu Jun 13 09:54:09 CST 2019, gmtModify=Thu Jun 13 09:54:09 CST 2019, isDeleted=0, status=1, content=145.66.23.22], BlackList [ id=18, gmtCreate=Wed Jun 12 10:31:51 CST 2019, gmtModify=Thu Jun 13 07:41:57 CST 2019, isDeleted=0, status=1, content=13857844332], BlackList [ id=17, gmtCreate=Wed Jun 12 10:31:51 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=82.134.129.187], BlackList [ id=16, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=233.91.172.133], BlackList [ id=15, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:42:03 CST 2019, isDeleted=0, status=1, content=13565202553], BlackList [ id=14, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=86.89.84.111], BlackList [ id=12, gmtCreate=Tue Jun 11 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:42:12 CST 2019, isDeleted=0, status=1, content=13053698770], BlackList [ id=13, gmtCreate=Sun Jun 09 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=2, content=127.128.214.3], BlackList [ id=11, gmtCreate=Sun Jun 09 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:41:16 CST 2019, isDeleted=0, status=2, content=169.243.244.188], BlackList [ id=10, gmtCreate=Sat Jun 08 13:30:35 CST 2019, gmtModify=Thu Jun 13 07:41:16 CST 2019, isDeleted=0, status=2, content=225.176.48.11], BlackList [ id=9, gmtCreate=Sat Jun 08 13:30:35 CST 2019, gmtModify=Thu Jun 13 07:42:19 CST 2019, isDeleted=0, status=2, content=13684213227], BlackList [ id=7, gmtCreate=Sat Jun 08 11:51:39 CST 2019, gmtModify=Sat Jun 08 11:51:39 CST 2019, isDeleted=0, status=2, content=13688903432], BlackList [ id=6, gmtCreate=Sat Jun 08 11:19:54 CST 2019, gmtModify=Sat Jun 08 11:19:54 CST 2019, isDeleted=0, status=2, content=189.45.32.67], BlackList [ id=5, gmtCreate=Sat Jun 08 11:14:22 CST 2019, gmtModify=Sat Jun 08 11:14:22 CST 2019, isDeleted=0, status=2, content=201.67.34.21-201.67.34.50], BlackList [ id=4, gmtCreate=Sat Jun 08 11:12:56 CST 2019, gmtModify=Sat Jun 08 11:12:56 CST 2019, isDeleted=0, status=2, content=13166772241], BlackList [ id=2, gmtCreate=Sat Jun 08 11:11:55 CST 2019, gmtModify=Sat Jun 08 11:12:56 CST 2019, isDeleted=0, status=2, content=17566233344]]。Caller+0	 at test.com.xudong.im.data.mapper.BlackListMapperTest.testQueryList(BlackListMapperTest.java:65)
19-06-19 20:11:22 INFO [Thread-2] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:11:22 INFO [Thread-2] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:11:41 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.manage.BlackListManageTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:11:41 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.manage.BlackListManageTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:11:41 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:11:41 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6995bf68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5143c662, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71c27ee8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e7dd664, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b1ebf56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1b835480, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3549bca9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f25b795]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:11:42 INFO [main] Starting BlackListManageTest on evan-macbook.local with PID 18637 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:11:42 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:11:43 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:11:43 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:11:43 INFO [main] Finished Spring Data repository scanning in 27ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:11:43 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:11:43 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:11:43 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:11:44 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:11:44 INFO [cluster-ClusterId{value='5d0a2680b302b048cdda5691', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37828}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:11:44 INFO [cluster-ClusterId{value='5d0a2680b302b048cdda5691', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=10406123}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:11:45 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:11:45 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:11:45 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@47187f50,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:11:45 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:11:45 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:11:45 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:11:45 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:11:45 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:11:45 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:11:45 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:11:45 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:11:45 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:11:45 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:11:45 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:11:46 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:11:46 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:46 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:46 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:46 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:11:47 INFO [main] Started BlackListManageTest in 5.867 seconds (JVM running for 7.528)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:11:47 DEBUG [main] ==>  Preparing: select count(1) FROM black_list bl WHERE bl.is_deleted=0 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:47 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:47 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:47 DEBUG [main] ==>  Preparing: select bl.id ,bl.gmt_create ,bl.gmt_modify ,bl.is_deleted ,bl.status ,bl.content FROM black_list bl WHERE bl.is_deleted=0 order by bl.gmt_create DESC,bl.id desc 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:47 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:47 DEBUG [main] <==      Total: 20。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:47 INFO [main] ====>>testGetForList:PageResult [recordCount=20, pageCount=0, data=[BlackList [ id=26, gmtCreate=Sat Jun 15 03:32:41 CST 2019, gmtModify=Sun Jun 16 09:55:27 CST 2019, isDeleted=0, status=1, content=183.12.21.*], BlackList [ id=25, gmtCreate=Sat Jun 15 03:09:49 CST 2019, gmtModify=Sun Jun 16 10:00:57 CST 2019, isDeleted=0, status=1, content=189.54.*.*], BlackList [ id=24, gmtCreate=Fri Jun 14 22:59:09 CST 2019, gmtModify=Sun Jun 16 09:54:58 CST 2019, isDeleted=0, status=1, content=11.22.33.11-11.22.33.30], BlackList [ id=22, gmtCreate=Fri Jun 14 09:39:27 CST 2019, gmtModify=Fri Jun 14 09:39:27 CST 2019, isDeleted=0, status=1, content=189.54.23.44], BlackList [ id=20, gmtCreate=Thu Jun 13 09:54:09 CST 2019, gmtModify=Thu Jun 13 09:54:09 CST 2019, isDeleted=0, status=1, content=145.66.23.22], BlackList [ id=18, gmtCreate=Wed Jun 12 10:31:51 CST 2019, gmtModify=Thu Jun 13 07:41:57 CST 2019, isDeleted=0, status=1, content=13857844332], BlackList [ id=17, gmtCreate=Wed Jun 12 10:31:51 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=82.134.129.187], BlackList [ id=16, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=233.91.172.133], BlackList [ id=15, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:42:03 CST 2019, isDeleted=0, status=1, content=13565202553], BlackList [ id=14, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=86.89.84.111], BlackList [ id=12, gmtCreate=Tue Jun 11 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:42:12 CST 2019, isDeleted=0, status=1, content=13053698770], BlackList [ id=13, gmtCreate=Sun Jun 09 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=2, content=127.128.214.3], BlackList [ id=11, gmtCreate=Sun Jun 09 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:41:16 CST 2019, isDeleted=0, status=2, content=169.243.244.188], BlackList [ id=10, gmtCreate=Sat Jun 08 13:30:35 CST 2019, gmtModify=Thu Jun 13 07:41:16 CST 2019, isDeleted=0, status=2, content=225.176.48.11], BlackList [ id=9, gmtCreate=Sat Jun 08 13:30:35 CST 2019, gmtModify=Thu Jun 13 07:42:19 CST 2019, isDeleted=0, status=2, content=13684213227], BlackList [ id=7, gmtCreate=Sat Jun 08 11:51:39 CST 2019, gmtModify=Sat Jun 08 11:51:39 CST 2019, isDeleted=0, status=2, content=13688903432], BlackList [ id=6, gmtCreate=Sat Jun 08 11:19:54 CST 2019, gmtModify=Sat Jun 08 11:19:54 CST 2019, isDeleted=0, status=2, content=189.45.32.67], BlackList [ id=5, gmtCreate=Sat Jun 08 11:14:22 CST 2019, gmtModify=Sat Jun 08 11:14:22 CST 2019, isDeleted=0, status=2, content=201.67.34.21-201.67.34.50], BlackList [ id=4, gmtCreate=Sat Jun 08 11:12:56 CST 2019, gmtModify=Sat Jun 08 11:12:56 CST 2019, isDeleted=0, status=2, content=13166772241], BlackList [ id=2, gmtCreate=Sat Jun 08 11:11:55 CST 2019, gmtModify=Sat Jun 08 11:12:56 CST 2019, isDeleted=0, status=2, content=17566233344]], pageNo=0, pageSize=0, query=AbstractQueryParam{sort='null', sortCode='null', pageNo=0, pageSize=0, columns=null, sortByDefault=true, includeDeleted=false, offset=null}]。Caller+0	 at test.com.xudong.im.manage.BlackListManageTest.testGetForList(BlackListManageTest.java:67)
19-06-19 20:11:47 INFO [Thread-4] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:11:47 INFO [Thread-4] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:11:54 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.service.BlacklistServiceTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:11:54 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.service.BlacklistServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:11:54 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:11:54 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6995bf68, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5143c662, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3568f9d2, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71c27ee8, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e7dd664, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5b1ebf56, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@294a6b8e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b1d6571, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1b835480, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3549bca9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4f25b795]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:11:55 INFO [main] Starting BlacklistServiceTest on evan-macbook.local with PID 18644 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:11:55 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:11:56 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:11:56 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:11:56 INFO [main] Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:11:56 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:11:56 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:11:56 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:11:57 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:11:57 INFO [cluster-ClusterId{value='5d0a268db302b048d4fbca05', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37829}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:11:57 INFO [cluster-ClusterId{value='5d0a268db302b048d4fbca05', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=9721102}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:11:58 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:11:58 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:11:58 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@53ea380b,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:11:58 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:11:58 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:11:58 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:11:58 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:11:58 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:11:58 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:11:58 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:11:58 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:11:58 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:11:58 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:11:58 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:11:58 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:11:59 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:59 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:59 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:11:59 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:11:59 INFO [main] Started BlacklistServiceTest in 4.872 seconds (JVM running for 6.689)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:12:00 INFO [main] ====>>testIsBlock 183.12.21.1 :true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:23)
19-06-19 20:12:00 INFO [main] ====>>testIsBlock 189.54.2.1 :true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:26)
19-06-19 20:12:00 INFO [main] ====>>testIsBlock 11.22.33.11 :true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:29)
19-06-19 20:12:00 INFO [main] ====>>testIsBlock 129.22.33.9 :false。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:32)
19-06-19 20:12:00 INFO [main] ====>>testIsBlock 189.54.23.44:true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:35)
19-06-19 20:12:00 INFO [main] ====>>testIsBlock 13565202553:true。Caller+0	 at test.com.xudong.im.service.BlacklistServiceTest.testIsBlock(BlacklistServiceTest.java:38)
19-06-19 20:12:00 INFO [Thread-4] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:12:00 INFO [Thread-4] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:12:11 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.session.UserAgentSessionTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:12:11 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.session.UserAgentSessionTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:12:12 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:12:12 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61a88b8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22295ec4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5adb0db3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3f270e0a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a760689, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7241a47d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70f59913, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77258e59, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5dcd8c7a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2250b9f2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7e3181aa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@253d9f73]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:12:12 INFO [main] Starting UserAgentSessionTest on evan-macbook.local with PID 18650 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:12:12 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:12:14 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:12:14 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:12:14 INFO [main] Finished Spring Data repository scanning in 28ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:12:14 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:12:14 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:12:14 INFO [main] Finished Spring Data repository scanning in 10ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:12:15 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$c7e567b9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:15 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:15 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:15 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:15 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$b70df387] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:15 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:15 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8765fdcc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:15 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 20:12:15 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:12:15 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:12:16 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:12:16 INFO [main] Root WebApplicationContext: initialization completed in 3156 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 20:12:16 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:12:16 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@8383a14,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:12:16 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:16 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:12:16 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:12:16 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:12:16 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:12:16 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:16 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:12:16 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:12:16 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:12:16 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:16 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 20:12:16 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:16 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:12:17 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:17 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:12:17 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:12:17 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:12:17 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:12:17 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:12:17 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:12:17 INFO [cluster-ClusterId{value='5d0a26a1b302b048da558333', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37830}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:12:17 INFO [cluster-ClusterId{value='5d0a26a1b302b048da558333', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=9123722}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:12:18 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:12:18 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:12:18 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:12:18 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:12:18 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:12:18 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:12:18 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:12:19 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:19 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:19 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:19 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:12:19 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:94)
19-06-19 20:12:20 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:12:20 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 20:12:20 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 20:12:20 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:12:20 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:20 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:20 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:20 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:20 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:20 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:20 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:20 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 20:12:21 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:21 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:21 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:21 INFO [main] Tomcat started on port(s): 52987 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 20:12:21 INFO [main] Started UserAgentSessionTest in 9.603 seconds (JVM running for 11.322)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:12:22 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=null}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:12:22 DEBUG [main] Wed Jun 19 20:12:22 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:12:22 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:12:22 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 20:12:22 INFO [main] >>>>>testGetOnlineStaffs:[UserAgent{id='1', account='acc6886', mobile='null', userName='null', remoteAddr='192.168.18.53', status=null, token='1e6873ba956296bcf83cc62a9aad7f55ad9c512c019fb08e25a99e7ac99d9d2f64f059a0ab6e211ce6867405c291b7aa', tokenSecret='2035a1580e4ce0f4c441c0a3babce3cfefc759d2fc92f8af20734f8d551ff81a6c584a6a557f5a9b3ab6312839354416', userAgentHeader='null', lastLoginTime=null, onlineStatus=1}]。Caller+0	 at test.com.xudong.im.session.UserAgentSessionTest.testGetOnlineStaffs(UserAgentSessionTest.java:71)
19-06-19 20:12:22 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:22 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:22 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:22 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:12:22 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:12:22 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:12:22 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:12:22 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:12:22 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:12:31 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.web.BlackListControllerTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:12:31 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.web.BlackListControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:12:32 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:12:32 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1a760689, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7241a47d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@70f59913, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77258e59, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5dcd8c7a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2250b9f2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e3181aa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@253d9f73, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@142269f2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@331acdad, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41d426b5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@8dbfffb]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:12:33 INFO [main] Starting BlackListControllerTest on evan-macbook.local with PID 18658 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:12:33 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:12:34 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:12:34 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:12:34 INFO [main] Finished Spring Data repository scanning in 33ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:12:34 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:12:34 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:12:34 INFO [main] Finished Spring Data repository scanning in 10ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:12:35 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$ecf5add0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:35 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:35 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:35 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:35 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$dc1e399e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:35 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:35 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ac7643e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:12:35 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 20:12:35 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:12:35 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:12:36 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:12:36 INFO [main] Root WebApplicationContext: initialization completed in 2854 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 20:12:36 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:12:36 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@2e29f28e,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:12:36 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:36 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:12:36 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:12:36 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:12:36 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:12:36 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:36 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:12:36 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:12:36 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:12:36 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:36 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 20:12:36 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:36 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:12:36 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:12:36 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:12:36 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:12:36 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:12:36 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:12:36 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:12:37 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:12:37 INFO [cluster-ClusterId{value='5d0a26b5b302b048e2131cf9', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37831}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:12:37 INFO [cluster-ClusterId{value='5d0a26b5b302b048e2131cf9', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=8517581}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:12:37 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:12:37 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:12:37 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:12:37 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:12:37 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:12:38 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:12:38 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:12:38 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:38 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:38 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:38 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:12:39 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:94)
19-06-19 20:12:39 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:12:39 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 20:12:39 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 20:12:39 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:12:39 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:39 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:39 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:39 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:39 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:39 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:39 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:12:39 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 20:12:41 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:41 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:41 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:41 INFO [main] Tomcat started on port(s): 53002 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 20:12:41 INFO [main] Started BlackListControllerTest in 8.966 seconds (JVM running for 10.702)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:12:41 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=null}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:12:41 DEBUG [main] Wed Jun 19 20:12:41 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:12:41 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:12:41 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 20:12:41 INFO [main] =====>> HttpRequest[[Accept:"text/plain, application/json, application/*+json, */*", Content-Length:"0", token:"c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1", X-Forwarded-For:"192.168.18.53"]],uri:http://127.0.0.1:53002/blackList/manage/list?pageSize=15&sort=gmt_modify。Caller+0	 at com.xudong.core.restful.TokenClientHttpRequestInterceptor.intercept(TokenClientHttpRequestInterceptor.java:41)
19-06-19 20:12:41 INFO [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:12:41 INFO [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:524)
19-06-19 20:12:41 INFO [http-nio-auto-1-exec-1] Completed initialization in 24 ms。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:546)
19-06-19 20:12:41 DEBUG [http-nio-auto-1-exec-1] >>>> Validate user login in request [/blackList/manage/list], method [public org.evanframework.dto.ApiResponse com.xudong.im.web.controller.BlackListController.getForList(com.xudong.im.domain.limit.BlackListQuery)]。Caller+0	 at com.xudong.im.session.auth.UserAuthInterceptor.preHandle(UserAuthInterceptor.java:84)
19-06-19 20:12:41 DEBUG [http-nio-auto-1-exec-1] ==>  Preparing: select count(1) FROM black_list bl WHERE bl.is_deleted=0 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:41 DEBUG [http-nio-auto-1-exec-1] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:41 DEBUG [http-nio-auto-1-exec-1] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:41 DEBUG [http-nio-auto-1-exec-1] ==>  Preparing: select bl.id ,bl.gmt_create ,bl.gmt_modify ,bl.is_deleted ,bl.status ,bl.content FROM black_list bl WHERE bl.is_deleted=0 order by gmt_modify limit 0,15 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:41 DEBUG [http-nio-auto-1-exec-1] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:41 DEBUG [http-nio-auto-1-exec-1] <==      Total: 15。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:42 INFO [main] ========>>testGetList 结果1：{"code":"SUCCESS","msg":"成功","data":[{"id":2,"gmtCreate":1559963515000,"gmtModify":1559963576000,"isDeleted":0,"status":2,"content":"17566233344"},{"id":4,"gmtCreate":1559963576000,"gmtModify":1559963576000,"isDeleted":0,"status":2,"content":"13166772241"},{"id":5,"gmtCreate":1559963662000,"gmtModify":1559963662000,"isDeleted":0,"status":2,"content":"201.67.34.21-201.67.34.50"},{"id":6,"gmtCreate":1559963994000,"gmtModify":1559963994000,"isDeleted":0,"status":2,"content":"189.45.32.67"},{"id":7,"gmtCreate":1559965899000,"gmtModify":1559965899000,"isDeleted":0,"status":2,"content":"13688903432"},{"id":10,"gmtCreate":1559971835000,"gmtModify":1560382876000,"isDeleted":0,"status":2,"content":"225.176.48.11"},{"id":11,"gmtCreate":1560013381000,"gmtModify":1560382876000,"isDeleted":0,"status":2,"content":"169.243.244.188"},{"id":13,"gmtCreate":1560013381000,"gmtModify":1560382877000,"isDeleted":0,"status":2,"content":"127.128.214.3"},{"id":14,"gmtCreate":1560306679000,"gmtModify":1560382877000,"isDeleted":0,"status":1,"content":"86.89.84.111"},{"id":16,"gmtCreate":1560306679000,"gmtModify":1560382877000,"isDeleted":0,"status":1,"content":"233.91.172.133"},{"id":17,"gmtCreate":1560306711000,"gmtModify":1560382877000,"isDeleted":0,"status":1,"content":"82.134.129.187"},{"id":18,"gmtCreate":1560306711000,"gmtModify":1560382917000,"isDeleted":0,"status":1,"content":"13857844332"},{"id":15,"gmtCreate":1560306679000,"gmtModify":1560382923000,"isDeleted":0,"status":1,"content":"13565202553"},{"id":12,"gmtCreate":1560186181000,"gmtModify":1560382932000,"isDeleted":0,"status":1,"content":"13053698770"},{"id":9,"gmtCreate":1559971835000,"gmtModify":1560382939000,"isDeleted":0,"status":2,"content":"13684213227"}],"page":{"pageSize":15,"pageNo":1,"recordCount":20,"pageCount":2,"first":1,"hasPre":false,"hasNext":true,"nextPage":2,"prePage":1},"success":true}。Caller+0	 at test.com.xudong.im.web.BlackListControllerTest.testGetForList(BlackListControllerTest.java:40)
19-06-19 20:12:42 INFO [main] =====>> HttpRequest[[Accept:"application/json, application/*+json", Content-Length:"0", token:"c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1", X-Forwarded-For:"192.168.18.53"]],uri:http://127.0.0.1:53002/blackList/manage/list?pageSize=15&sort=gmt_modify。Caller+0	 at com.xudong.core.restful.TokenClientHttpRequestInterceptor.intercept(TokenClientHttpRequestInterceptor.java:41)
19-06-19 20:12:42 DEBUG [http-nio-auto-1-exec-2] >>>> Validate user login in request [/blackList/manage/list], method [public org.evanframework.dto.ApiResponse com.xudong.im.web.controller.BlackListController.getForList(com.xudong.im.domain.limit.BlackListQuery)]。Caller+0	 at com.xudong.im.session.auth.UserAuthInterceptor.preHandle(UserAuthInterceptor.java:84)
19-06-19 20:12:42 DEBUG [http-nio-auto-1-exec-2] ==>  Preparing: select count(1) FROM black_list bl WHERE bl.is_deleted=0 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:42 DEBUG [http-nio-auto-1-exec-2] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:42 DEBUG [http-nio-auto-1-exec-2] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:42 DEBUG [http-nio-auto-1-exec-2] ==>  Preparing: select bl.id ,bl.gmt_create ,bl.gmt_modify ,bl.is_deleted ,bl.status ,bl.content FROM black_list bl WHERE bl.is_deleted=0 order by gmt_modify limit 0,15 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:42 DEBUG [http-nio-auto-1-exec-2] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:42 DEBUG [http-nio-auto-1-exec-2] <==      Total: 15。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:12:42 INFO [main] ========>>testGetList 结果2：ApiResponse{page=Page [getPageSize()=15, getPageNo()=1, getRecordCount()=20, getPageCount()=2]} OperateResult{code='SUCCESS', msg='成功', serversion='null', data=[BlackList [ id=2, gmtCreate=Sat Jun 08 11:11:55 CST 2019, gmtModify=Sat Jun 08 11:12:56 CST 2019, isDeleted=0, status=2, content=17566233344], BlackList [ id=4, gmtCreate=Sat Jun 08 11:12:56 CST 2019, gmtModify=Sat Jun 08 11:12:56 CST 2019, isDeleted=0, status=2, content=13166772241], BlackList [ id=5, gmtCreate=Sat Jun 08 11:14:22 CST 2019, gmtModify=Sat Jun 08 11:14:22 CST 2019, isDeleted=0, status=2, content=201.67.34.21-201.67.34.50], BlackList [ id=6, gmtCreate=Sat Jun 08 11:19:54 CST 2019, gmtModify=Sat Jun 08 11:19:54 CST 2019, isDeleted=0, status=2, content=189.45.32.67], BlackList [ id=7, gmtCreate=Sat Jun 08 11:51:39 CST 2019, gmtModify=Sat Jun 08 11:51:39 CST 2019, isDeleted=0, status=2, content=13688903432], BlackList [ id=10, gmtCreate=Sat Jun 08 13:30:35 CST 2019, gmtModify=Thu Jun 13 07:41:16 CST 2019, isDeleted=0, status=2, content=225.176.48.11], BlackList [ id=11, gmtCreate=Sun Jun 09 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:41:16 CST 2019, isDeleted=0, status=2, content=169.243.244.188], BlackList [ id=13, gmtCreate=Sun Jun 09 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=2, content=127.128.214.3], BlackList [ id=14, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=86.89.84.111], BlackList [ id=16, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=233.91.172.133], BlackList [ id=17, gmtCreate=Wed Jun 12 10:31:51 CST 2019, gmtModify=Thu Jun 13 07:41:17 CST 2019, isDeleted=0, status=1, content=82.134.129.187], BlackList [ id=18, gmtCreate=Wed Jun 12 10:31:51 CST 2019, gmtModify=Thu Jun 13 07:41:57 CST 2019, isDeleted=0, status=1, content=13857844332], BlackList [ id=15, gmtCreate=Wed Jun 12 10:31:19 CST 2019, gmtModify=Thu Jun 13 07:42:03 CST 2019, isDeleted=0, status=1, content=13565202553], BlackList [ id=12, gmtCreate=Tue Jun 11 01:03:01 CST 2019, gmtModify=Thu Jun 13 07:42:12 CST 2019, isDeleted=0, status=1, content=13053698770], BlackList [ id=9, gmtCreate=Sat Jun 08 13:30:35 CST 2019, gmtModify=Thu Jun 13 07:42:19 CST 2019, isDeleted=0, status=2, content=13684213227]]}。Caller+0	 at test.com.xudong.im.web.BlackListControllerTest.testGetForList(BlackListControllerTest.java:43)
19-06-19 20:12:42 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:42 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:42 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:12:42 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:12:42 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:12:42 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:12:42 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:12:42 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:12:42 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:15:21 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.web.StaffLoginControllerTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:15:21 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.web.StaffLoginControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:15:21 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:15:21 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61a88b8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22295ec4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5adb0db3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3f270e0a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a760689, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7241a47d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70f59913, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77258e59, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5dcd8c7a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2250b9f2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7e3181aa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@253d9f73]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:15:22 INFO [main] Starting StaffLoginControllerTest on evan-macbook.local with PID 18729 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:15:22 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:15:23 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:15:23 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:15:23 INFO [main] Finished Spring Data repository scanning in 26ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:15:23 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:15:23 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:15:23 INFO [main] Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:15:24 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$188c313a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:15:24 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:15:24 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:15:24 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:15:24 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$7b4bd08] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:15:24 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:15:24 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d80cc74d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:15:25 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 20:15:25 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:15:25 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:15:25 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:15:25 INFO [main] Root WebApplicationContext: initialization completed in 2896 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 20:15:25 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:15:25 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@3335afcf,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:15:26 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:15:26 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:15:26 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:15:26 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:15:26 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:15:26 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:15:26 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:15:26 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:15:26 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:15:26 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:15:26 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 20:15:26 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:15:26 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:15:26 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:15:26 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:15:26 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:15:26 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:15:26 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:15:26 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:15:26 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:15:26 INFO [cluster-ClusterId{value='5d0a275eb302b04929faff4a', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37832}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:15:26 INFO [cluster-ClusterId{value='5d0a275eb302b04929faff4a', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=6558916}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:15:27 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:15:27 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:15:27 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:15:27 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:15:27 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:15:27 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:15:27 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:15:28 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:15:28 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:15:28 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:15:28 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:15:28 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:94)
19-06-19 20:15:29 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:15:29 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 20:15:29 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 20:15:29 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:15:29 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:15:29 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:15:29 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:15:29 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:15:29 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:15:29 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:15:29 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:15:29 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 20:15:30 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:15:30 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:15:30 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:15:30 INFO [main] Tomcat started on port(s): 53032 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 20:15:30 INFO [main] Started StaffLoginControllerTest in 8.935 seconds (JVM running for 10.773)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:15:31 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=null}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:15:31 DEBUG [main] Wed Jun 19 20:15:31 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:15:31 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:15:31 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 20:15:31 INFO [main] =====>> HttpRequest[[Accept:"application/json, application/*+json", Content-Length:"0", token:"c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1", X-Forwarded-For:"192.168.18.53"]],uri:http://127.0.0.1:53032/userAgent/updateOnlineStatus?newStatus=0。Caller+0	 at com.xudong.core.restful.TokenClientHttpRequestInterceptor.intercept(TokenClientHttpRequestInterceptor.java:41)
19-06-19 20:15:31 INFO [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:15:31 INFO [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:524)
19-06-19 20:15:31 INFO [http-nio-auto-1-exec-1] Completed initialization in 31 ms。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:546)
19-06-19 20:15:31 DEBUG [http-nio-auto-1-exec-1] >>>> Validate user login in request [/userAgent/updateOnlineStatus], method [public org.evanframework.dto.ApiResponse com.xudong.im.web.controller.LoginController.updateOnlineStatus(java.lang.Integer,javax.servlet.http.HttpServletRequest)]。Caller+0	 at com.xudong.im.session.auth.UserAuthInterceptor.preHandle(UserAuthInterceptor.java:84)
19-06-19 20:15:31 DEBUG [http-nio-auto-1-exec-1] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=0}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:15:31 DEBUG [http-nio-auto-1-exec-1] Wed Jun 19 20:15:31 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:15:31 DEBUG [http-nio-auto-1-exec-1] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:15:31 INFO [main] ====>> testLogout : ApiResponse{page=null} OperateResult{code='SUCCESS', msg='成功', serversion='null', data=null}。Caller+0	 at test.com.xudong.im.web.StaffLoginControllerTest.testUpdateOnlineStatus(StaffLoginControllerTest.java:44)
19-06-19 20:15:31 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:15:31 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:15:31 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:15:31 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:15:31 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:15:31 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:15:31 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:15:31 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:15:31 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:16:17 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.web.StaffLoginControllerTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:16:17 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.web.StaffLoginControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:16:18 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:16:18 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61a88b8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22295ec4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5adb0db3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3f270e0a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a760689, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7241a47d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70f59913, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77258e59, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5dcd8c7a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2250b9f2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7e3181aa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@253d9f73]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:16:18 INFO [main] Starting StaffLoginControllerTest on evan-macbook.local with PID 18752 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:16:18 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:16:20 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:16:20 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:16:20 INFO [main] Finished Spring Data repository scanning in 28ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:16:20 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:16:20 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:16:20 INFO [main] Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:16:21 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$b1ea1b17] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:16:21 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:16:21 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:16:21 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:16:21 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$a112a6e5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:16:21 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:16:21 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$716ab12a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:16:21 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 20:16:21 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:16:21 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:16:21 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:16:21 INFO [main] Root WebApplicationContext: initialization completed in 2942 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 20:16:21 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:16:22 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@2cd3fc29,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:16:22 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:16:22 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:16:22 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:16:22 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:16:22 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:16:22 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:16:22 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:16:22 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:16:22 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:16:22 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:16:22 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 20:16:22 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:16:22 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:16:22 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:16:22 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:16:22 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:16:22 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:16:22 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:16:22 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:16:23 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:16:23 INFO [cluster-ClusterId{value='5d0a2797b302b04940b60be1', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37836}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:16:23 INFO [cluster-ClusterId{value='5d0a2797b302b04940b60be1', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=6074538}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:16:23 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:16:23 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:16:23 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:16:23 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:16:24 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:16:24 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:16:24 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:16:24 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:16:24 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:16:24 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:16:24 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:16:25 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:94)
19-06-19 20:16:25 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:16:26 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 20:16:26 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 20:16:26 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:16:26 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:16:26 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:16:26 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:16:26 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:16:26 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:16:26 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:16:26 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:16:26 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 20:16:27 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:16:27 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:16:27 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:16:27 INFO [main] Tomcat started on port(s): 53073 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 20:16:27 INFO [main] Started StaffLoginControllerTest in 9.286 seconds (JVM running for 11.017)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:16:27 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=null}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:16:27 DEBUG [main] Wed Jun 19 20:16:27 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:16:27 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:16:27 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 20:16:28 INFO [main] =====>> HttpRequest[[Accept:"application/json, application/*+json", Content-Length:"0", token:"c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1", X-Forwarded-For:"192.168.18.53"]],uri:http://127.0.0.1:53073/userAgent/updateOnlineStatus?newStatus=0。Caller+0	 at com.xudong.core.restful.TokenClientHttpRequestInterceptor.intercept(TokenClientHttpRequestInterceptor.java:41)
19-06-19 20:16:28 INFO [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:16:28 INFO [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:524)
19-06-19 20:16:28 INFO [http-nio-auto-1-exec-1] Completed initialization in 29 ms。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:546)
19-06-19 20:16:28 DEBUG [http-nio-auto-1-exec-1] >>>> Validate user login in request [/userAgent/updateOnlineStatus], method [public org.evanframework.dto.ApiResponse com.xudong.im.web.controller.LoginController.updateOnlineStatus(java.lang.Integer,javax.servlet.http.HttpServletRequest)]。Caller+0	 at com.xudong.im.session.auth.UserAuthInterceptor.preHandle(UserAuthInterceptor.java:84)
19-06-19 20:17:11 WARN [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s296ms).。Caller+0	 at com.zaxxer.hikari.pool.HikariPool$HouseKeeper.run(HikariPool.java:766)
19-06-19 20:17:11 DEBUG [http-nio-auto-1-exec-1] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=0}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:17:11 DEBUG [http-nio-auto-1-exec-1] Wed Jun 19 20:17:11 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:17:11 DEBUG [http-nio-auto-1-exec-1] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:17:11 INFO [main] ====>> testLogout : ApiResponse{page=null} OperateResult{code='SUCCESS', msg='成功', serversion='null', data=null}。Caller+0	 at test.com.xudong.im.web.StaffLoginControllerTest.testUpdateOnlineStatus(StaffLoginControllerTest.java:44)
19-06-19 20:17:11 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:17:11 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:17:11 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:17:11 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:17:11 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:17:11 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:17:11 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:17:11 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:17:11 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-19 20:17:58 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.web.StaffLoginControllerTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-19 20:17:59 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.web.StaffLoginControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-19 20:17:59 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-19 20:17:59 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@61a88b8c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@22295ec4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5adb0db3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3f270e0a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a760689, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7241a47d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@70f59913, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77258e59, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5dcd8c7a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2250b9f2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7e3181aa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@253d9f73]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-19 20:18:00 INFO [main] Starting StaffLoginControllerTest on evan-macbook.local with PID 18786 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-19 20:18:00 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-19 20:18:02 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:18:02 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:18:02 INFO [main] Finished Spring Data repository scanning in 31ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:18:02 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-19 20:18:02 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-19 20:18:02 INFO [main] Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-19 20:18:03 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari$$EnhancerBySpringCGLIB$$395329b3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:18:03 INFO [main] Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:18:03 INFO [main] Bean 'dataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:18:03 INFO [main] Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:18:03 INFO [main] Bean 'mySQLAutoConfiguration' of type [com.xudong.im.config.database.MySQLAutoConfiguration$$EnhancerBySpringCGLIB$$287bb581] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:18:03 INFO [main] Bean 'annotationDrivenTransactionManager' of type [org.springframework.jdbc.datasource.DataSourceTransactionManager] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:18:03 INFO [main] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f8d3bfc6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)。Caller+0	 at org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization(PostProcessorRegistrationDelegate.java:330)
19-06-19 20:18:03 INFO [main] Tomcat initialized with port(s): 0 (http)。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:90)
19-06-19 20:18:04 INFO [main] Starting service [Tomcat]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:18:04 INFO [main] Starting Servlet engine: [Apache Tomcat/9.0.19]。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:18:04 INFO [main] Initializing Spring embedded WebApplicationContext。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:18:04 INFO [main] Root WebApplicationContext: initialization completed in 3600 ms。Caller+0	 at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.prepareWebApplicationContext(ServletWebServerApplicationContext.java:296)
19-06-19 20:18:04 WARN [main] No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/Users/evan/.m2/repository/net/sf/ehcache/ehcache/2.9.1/ehcache-2.9.1.jar!/ehcache-failsafe.xml。Caller+0	 at net.sf.ehcache.config.ConfigurationFactory.parseConfiguration(ConfigurationFactory.java:136)
19-06-19 20:18:04 INFO [main] RedisTemplateCreator inited,org.springframework.data.redis.connection.jedis.JedisConnectionFactory@a826ff8,null。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.<init>(RedisTemplateCreator.java:64)
19-06-19 20:18:04 DEBUG [main] EHCache [StaffAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:18:04 DEBUG [main] RedisTemplate inited, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:18:04 DEBUG [main] CacheUtil inited,cacheName is [StaffAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:18:04 DEBUG [main] Cache [cacheName:StaffAgentCache,cacheClass:com.xudong.im.domain.user.StaffAgent,redisDatabaseIndex:5] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:18:04 DEBUG [main] get RedisTemplate, dababase is [5]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:18:04 DEBUG [main] EHCache [VisitorAgentCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:18:04 DEBUG [main] RedisTemplate inited, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:18:04 DEBUG [main] CacheUtil inited,cacheName is [VisitorAgentCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:18:04 DEBUG [main] Cache [cacheName:VisitorAgentCache,cacheClass:com.xudong.im.domain.user.VisitorAgent,redisDatabaseIndex:6] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:18:04 DEBUG [main] EHCache [UserAgentSessionKeyCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:18:04 INFO [main] >>>> UserAgentReadFilter inited, excludes [Excludor{excludes=[, /**/*swagger-*/**, /v2/api-docs, /**/*.gif, /error, /**/*.png, /**/validateCode*, /**/login, /**/login/**, /**/validate-code/**, /**/ws/**, /**/imageUploador-upload, /, /**/*.ico, /**/kindeditor-*-upload, /_component/**, /**/*swagger-*, /**/*.jpg, /**/*.jpeg, /**/*.js]}]。Caller+0	 at com.xudong.core.filter.AbstractUserContextFilter.init(AbstractUserContextFilter.java:37)
19-06-19 20:18:04 DEBUG [main] EHCache [BlackListEHCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:18:04 DEBUG [main] RedisTemplate inited, dababase is [8]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:18:04 DEBUG [main] EHCache [ChatSessionCache] init success!。Caller+0	 at com.xudong.core.cache.EHCacheUtil.<init>(EHCacheUtil.java:52)
19-06-19 20:18:04 DEBUG [main] RedisTemplate inited, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:112)
19-06-19 20:18:04 DEBUG [main] CacheUtil inited,cacheName is [ChatSessionCache]。Caller+0	 at com.xudong.core.cache.CacheUtil.init(CacheUtil.java:56)
19-06-19 20:18:04 DEBUG [main] Cache [cacheName:ChatSessionCache,cacheClass:java.util.HashSet,redisDatabaseIndex:4] inited。Caller+0	 at com.xudong.core.cache.AbstractCache.initLog(AbstractCache.java:75)
19-06-19 20:18:04 DEBUG [main] get RedisTemplate, dababase is [4]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:18:04 DEBUG [main] get RedisTemplate, dababase is [6]。Caller+0	 at com.xudong.core.cache.RedisTemplateCreator.getRedisTemplate(RedisTemplateCreator.java:117)
19-06-19 20:18:05 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:18:05 INFO [cluster-ClusterId{value='5d0a27fdb302b049625cf3d1', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:37837}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:18:05 INFO [cluster-ClusterId{value='5d0a27fdb302b049625cf3d1', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=7109014}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-19 20:18:05 INFO [main] Inited SqlSessionFactory,typeAliasesPackage:[com.xudong.im.domain],mapperLocations:[classpath*:mapper/*Mapper.xml],Mappers:[BlackListMapper.xml, SensitiveWordMapper.xml, TalkSkillMapper.xml]。Caller+0	 at com.xudong.core.mysql.MybatisHelper.getSqlSessionFactory(MybatisHelper.java:71)
19-06-19 20:18:05 WARN [main] HikariPool-1 - maxLifetime is less than 30000ms, setting to default 1800000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:968)
19-06-19 20:18:05 WARN [main] HikariPool-1 - idleTimeout is less than 10000ms, setting to default 600000ms.。Caller+0	 at com.zaxxer.hikari.HikariConfig.validateNumerics(HikariConfig.java:978)
19-06-19 20:18:05 INFO [main] HikariPool-1 - Starting...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:110)
19-06-19 20:18:06 INFO [main] HikariPool-1 - Start completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:123)
19-06-19 20:18:06 INFO [main] Initializing ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:18:06 INFO [main] Initializing ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:18:06 DEBUG [main] ==>  Preparing: select sw.id ,sw.gmt_modify ,sw.words FROM sensitive_word sw 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:18:06 DEBUG [main] ==> Parameters: 。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:18:06 DEBUG [main] <==      Total: 1。Caller+0	 at org.apache.ibatis.logging.jdbc.BaseJdbcLogger.debug(BaseJdbcLogger.java:143)
19-06-19 20:18:06 ERROR [main] >>>> Sensitive Word inited，total 【2276】。Caller+0	 at com.xudong.core.sensitiveword.SensitiveWordIniter.initKeyWord(SensitiveWordIniter.java:69)
19-06-19 20:18:07 INFO [main] >>>> UserAuthInterceptor added, excludes [/**/login]。Caller+0	 at com.xudong.im.config.ApplicationBeansConfiguration.addInterceptors(ApplicationBeansConfiguration.java:94)
19-06-19 20:18:07 INFO [main] Initializing ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:18:07 INFO [main] >>>> WebSocketConfig inited。Caller+0	 at com.xudong.im.config.WebSocketConfig.registerStompEndpoints(WebSocketConfig.java:29)
19-06-19 20:18:07 DEBUG [main] Patterns [/ws/**, /ws] in 'stompWebSocketHandlerMapping'。Caller+0	 at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.registerHandlers(SimpleUrlHandlerMapping.java:139)
19-06-19 20:18:07 INFO [main] Initializing ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.initialize(ExecutorConfigurationSupport.java:171)
19-06-19 20:18:07 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.BlackListController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:18:07 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.ChatController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:18:07 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.LoginController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:18:07 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.SensitiveWordManageController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:18:07 DEBUG [main] 0 message handler methods found on class com.xudong.im.web.controller.TalkSkillController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:18:07 DEBUG [main] 0 message handler methods found on class springfox.documentation.swagger.web.ApiResourceController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:18:07 DEBUG [main] 0 message handler methods found on class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController: {}。Caller+0	 at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.detectHandlerMethods(AbstractMethodMessageHandler.java:312)
19-06-19 20:18:08 INFO [main] >>>> RestTemplate inited。Caller+0	 at com.xudong.im.config.http.RestTemplateAutoConfiguration.restTemplate(RestTemplateAutoConfiguration.java:48)
19-06-19 20:18:09 INFO [main] Starting...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:18:09 INFO [main] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:18:09 INFO [main] Started.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:18:09 INFO [main] Tomcat started on port(s): 53106 (http) with context path ''。Caller+0	 at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:204)
19-06-19 20:18:09 INFO [main] Started StaffLoginControllerTest in 9.959 seconds (JVM running for 11.683)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-19 20:18:09 DEBUG [main] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=null}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:18:10 DEBUG [main] Wed Jun 19 20:18:09 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:18:10 DEBUG [main] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:18:10 DEBUG [main] >>>>> 存储用户会话，userAgentCacheKey【604e9089a46ef1021cd78e6cb8b15bb5fb3f5092】，id【161】，ip【192.168.18.53】,account【acc7055】,token【c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1】。Caller+0	 at com.xudong.im.session.UserAgentSession.save(UserAgentSession.java:92)
19-06-19 20:18:10 INFO [main] =====>> HttpRequest[[Accept:"application/json, application/*+json", Content-Length:"0", token:"c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1", X-Forwarded-For:"192.168.18.53"]],uri:http://127.0.0.1:53106/userAgent/updateOnlineStatus?newStatus=3。Caller+0	 at com.xudong.core.restful.TokenClientHttpRequestInterceptor.intercept(TokenClientHttpRequestInterceptor.java:41)
19-06-19 20:18:10 INFO [http-nio-auto-1-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'。Caller+0	 at org.apache.juli.logging.DirectJDKLog.log(DirectJDKLog.java:173)
19-06-19 20:18:10 INFO [http-nio-auto-1-exec-1] Initializing Servlet 'dispatcherServlet'。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:524)
19-06-19 20:18:10 INFO [http-nio-auto-1-exec-1] Completed initialization in 21 ms。Caller+0	 at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:546)
19-06-19 20:18:10 DEBUG [http-nio-auto-1-exec-1] >>>> Validate user login in request [/userAgent/updateOnlineStatus], method [public org.evanframework.dto.ApiResponse com.xudong.im.web.controller.LoginController.updateOnlineStatus(java.lang.Integer,javax.servlet.http.HttpServletRequest)]。Caller+0	 at com.xudong.im.session.auth.UserAuthInterceptor.preHandle(UserAuthInterceptor.java:84)
19-06-19 20:18:17 DEBUG [http-nio-auto-1-exec-1] Put redis objectTypeKey is [StaffAgentCache],objectKey is [604e9089a46ef1021cd78e6cb8b15bb5fb3f5092], value is [UserAgent{id='161', account='acc7055', mobile='null', userName='测试', remoteAddr='192.168.18.53', status=null, token='c686090ef8da8ec57dd3651940f302bd09d3e9d7a11b0e5d56f73a8664eed9ffc84d1d7e40b9776fb3ba8756f5803ba1', tokenSecret='ca497a47603ae08e6a178b4df817aca574195f18fb734801d0a65772ed33d28b0c7b47b3c14e72cb99da8859e6278023', userAgentHeader='null', lastLoginTime=null, onlineStatus=3}]。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:66)
19-06-19 20:18:17 DEBUG [http-nio-auto-1-exec-1] Wed Jun 19 20:18:17 CST 2019。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:80)
19-06-19 20:18:17 DEBUG [http-nio-auto-1-exec-1] 7200。Caller+0	 at com.xudong.core.cache.RedisUtil.put(RedisUtil.java:81)
19-06-19 20:18:17 INFO [main] ====>> testLogout : ApiResponse{page=null} OperateResult{code='SUCCESS', msg='成功', serversion='null', data=null}。Caller+0	 at test.com.xudong.im.web.StaffLoginControllerTest.testUpdateOnlineStatus(StaffLoginControllerTest.java:44)
19-06-19 20:18:17 INFO [Thread-6] Stopping...。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:18:17 INFO [Thread-6] BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]]。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:18:17 INFO [Thread-6] Stopped.。Caller+0	 at org.springframework.core.log.CompositeLog.info(CompositeLog.java:137)
19-06-19 20:18:17 INFO [Thread-6] Shutting down ExecutorService 'brokerChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:18:17 INFO [Thread-6] Shutting down ExecutorService 'messageBrokerTaskScheduler'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:18:17 INFO [Thread-6] Shutting down ExecutorService 'clientOutboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:18:17 INFO [Thread-6] Shutting down ExecutorService 'clientInboundChannelExecutor'。Caller+0	 at org.springframework.scheduling.concurrent.ExecutorConfigurationSupport.shutdown(ExecutorConfigurationSupport.java:208)
19-06-19 20:18:17 INFO [Thread-6] HikariPool-1 - Shutdown initiated...。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:350)
19-06-19 20:18:17 INFO [Thread-6] HikariPool-1 - Shutdown completed.。Caller+0	 at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:352)
19-06-20 19:35:30 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 19:35:30 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 19:35:30 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 19:35:30 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 19:36:01 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 19:36:01 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 19:36:01 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 19:36:01 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 19:36:02 INFO [main] Starting ChatRecordRepositoryTest on evan-macbook.local with PID 20670 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-20 19:36:02 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-20 19:36:03 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-20 19:36:03 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:36:03 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:36:03 INFO [main] Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:36:03 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:36:03 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:36:03 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:36:04 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:04 INFO [cluster-ClusterId{value='5d0b6fa480c94550bee21fc6', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:38191}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:04 INFO [cluster-ClusterId{value='5d0b6fa480c94550bee21fc6', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=6173607}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:06 INFO [main] Started ChatRecordRepositoryTest in 4.221 seconds (JVM running for 5.851)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-20 19:36:06 DEBUG [main] Analyzing class class com.xudong.im.domain.chat.ChatRecord for index information.。Caller+0	 at org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator.checkForIndexes(MongoPersistentEntityIndexCreator.java:124)
19-06-20 19:36:06 DEBUG [main] find using query: { } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:36:06 INFO [main] Opened connection [connectionId{localValue:2, serverValue:38192}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:07 DEBUG [main] Executing count: { } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:36:07 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1561030567515 }, "$lt" : { "$date" : 1561030567516 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:36:07 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1560425767526 }, "$lt" : { "$date" : 1561030567526 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:36:08 DEBUG [main] Executing count: { "gmtCreate" : { "$gte" : { "$date" : 1560425767526 }, "$lt" : { "$date" : 1561030567526 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:36:09 INFO [Thread-2] Closed connection [connectionId{localValue:2, serverValue:38192}] to 47.96.89.84:27017 because the pool has been closed.。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:38 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 19:36:38 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 19:36:38 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 19:36:38 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 19:36:39 INFO [main] Starting ChatRecordRepositoryTest on evan-macbook.local with PID 20686 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-20 19:36:39 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-20 19:36:40 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-20 19:36:40 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:36:40 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:36:40 INFO [main] Finished Spring Data repository scanning in 7ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:36:40 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:36:40 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:36:40 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:36:41 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:41 INFO [cluster-ClusterId{value='5d0b6fc980c94550cef62806', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:38193}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:41 INFO [cluster-ClusterId{value='5d0b6fc980c94550cef62806', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=9882991}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:42 INFO [main] Started ChatRecordRepositoryTest in 4.184 seconds (JVM running for 5.819)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-20 19:36:43 DEBUG [main] Analyzing class class com.xudong.im.domain.chat.ChatRecord for index information.。Caller+0	 at org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator.checkForIndexes(MongoPersistentEntityIndexCreator.java:124)
19-06-20 19:36:43 DEBUG [main] find using query: { } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:36:43 INFO [main] Opened connection [connectionId{localValue:2, serverValue:38194}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:36:44 DEBUG [main] Executing count: { } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:36:44 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1561030604031 }, "$lt" : { "$date" : 1561030604031 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:36:44 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1560425804042 }, "$lt" : { "$date" : 1561030604042 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:36:45 DEBUG [main] Executing count: { "gmtCreate" : { "$gte" : { "$date" : 1560425804042 }, "$lt" : { "$date" : 1561030604042 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:36:45 INFO [Thread-2] Closed connection [connectionId{localValue:2, serverValue:38194}] to 47.96.89.84:27017 because the pool has been closed.。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:41:53 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 19:41:53 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 19:41:54 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 19:41:54 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 19:41:55 INFO [main] Starting ChatRecordRepositoryTest on evan-macbook.local with PID 20799 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-20 19:41:55 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-20 19:41:55 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-20 19:41:55 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:41:55 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:41:55 INFO [main] Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:41:56 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:41:56 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:41:56 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:41:57 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:41:57 INFO [cluster-ClusterId{value='5d0b710580c945513f0f5770', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:38195}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:41:57 INFO [cluster-ClusterId{value='5d0b710580c945513f0f5770', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=7975922}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:41:58 INFO [main] Started ChatRecordRepositoryTest in 4.488 seconds (JVM running for 6.37)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-20 19:41:59 DEBUG [main] Analyzing class class com.xudong.im.domain.chat.ChatRecord for index information.。Caller+0	 at org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator.checkForIndexes(MongoPersistentEntityIndexCreator.java:124)
19-06-20 19:41:59 DEBUG [main] find using query: { } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:41:59 INFO [main] Opened connection [connectionId{localValue:2, serverValue:38196}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:42:00 DEBUG [main] Executing count: { } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:42:00 DEBUG [main] find using query: { } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:42:01 DEBUG [main] Executing count: { } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:42:01 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1560426120200 }, "$lt" : { "$date" : 1560944520200 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:42:02 DEBUG [main] Executing count: { "gmtCreate" : { "$gte" : { "$date" : 1560426120200 }, "$lt" : { "$date" : 1560944520200 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:42:02 INFO [Thread-2] Closed connection [connectionId{localValue:2, serverValue:38196}] to 47.96.89.84:27017 because the pool has been closed.。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:45:14 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 19:45:14 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 19:45:14 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 19:45:15 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 19:45:15 INFO [main] Starting ChatRecordRepositoryTest on evan-macbook.local with PID 20870 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-20 19:45:15 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-20 19:45:16 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-20 19:45:16 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:45:16 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:45:16 INFO [main] Finished Spring Data repository scanning in 11ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:45:16 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:45:16 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:45:16 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:45:17 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:45:17 INFO [cluster-ClusterId{value='5d0b71cd80c9455186f19f5b', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:38197}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:45:17 INFO [cluster-ClusterId{value='5d0b71cd80c9455186f19f5b', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=8658441}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:45:19 INFO [main] Started ChatRecordRepositoryTest in 4.04 seconds (JVM running for 5.886)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-20 19:45:19 DEBUG [main] Analyzing class class com.xudong.im.domain.chat.ChatRecord for index information.。Caller+0	 at org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator.checkForIndexes(MongoPersistentEntityIndexCreator.java:124)
19-06-20 19:45:19 DEBUG [main] find using query: { } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:45:19 INFO [main] Opened connection [connectionId{localValue:2, serverValue:38198}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:45:22 DEBUG [main] Executing count: { } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:45:22 DEBUG [main] find using query: { "gmtCreate" : { "$lt" : { "$date" : 1560944722144 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:45:22 DEBUG [main] Executing count: { "gmtCreate" : { "$lt" : { "$date" : 1560944722144 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:45:22 INFO [Thread-2] Closed connection [connectionId{localValue:2, serverValue:38198}] to 47.96.89.84:27017 because the pool has been closed.。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:51:16 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 19:51:16 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 19:51:16 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 19:51:16 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 19:51:17 INFO [main] Starting ChatRecordRepositoryTest on evan-macbook.local with PID 20998 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-20 19:51:17 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-20 19:51:18 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-20 19:51:18 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:51:18 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:51:18 INFO [main] Finished Spring Data repository scanning in 10ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:51:18 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:51:18 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:51:18 INFO [main] Finished Spring Data repository scanning in 2ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:51:19 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:51:19 INFO [cluster-ClusterId{value='5d0b733780c9455206e98496', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:38201}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:51:19 INFO [cluster-ClusterId{value='5d0b733780c9455206e98496', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=10591214}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:51:21 INFO [main] Started ChatRecordRepositoryTest in 4.62 seconds (JVM running for 6.751)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-20 19:51:21 DEBUG [main] Analyzing class class com.xudong.im.domain.chat.ChatRecord for index information.。Caller+0	 at org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator.checkForIndexes(MongoPersistentEntityIndexCreator.java:124)
19-06-20 19:51:21 DEBUG [main] find using query: { "gmtCreate" : { } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:51:21 INFO [main] Opened connection [connectionId{localValue:2, serverValue:38202}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:51:21 DEBUG [main] find using query: { "gmtCreate" : { "$lt" : { "$date" : 1560945081827 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:51:21 DEBUG [main] Executing count: { "gmtCreate" : { "$lt" : { "$date" : 1560945081827 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:51:21 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1560426681827 }, "$lt" : { "$date" : 1560945081827 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:51:22 DEBUG [main] Executing count: { "gmtCreate" : { "$gte" : { "$date" : 1560426681827 }, "$lt" : { "$date" : 1560945081827 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:51:22 INFO [Thread-2] Closed connection [connectionId{localValue:2, serverValue:38202}] to 47.96.89.84:27017 because the pool has been closed.。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:52:14 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 19:52:14 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 19:52:15 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 19:52:15 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 19:52:16 INFO [main] Starting ChatRecordRepositoryTest on evan-macbook.local with PID 21019 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-20 19:52:16 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-20 19:52:17 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-20 19:52:17 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:52:17 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:52:17 INFO [main] Finished Spring Data repository scanning in 10ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:52:17 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:52:17 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:52:17 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:52:18 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:52:18 INFO [cluster-ClusterId{value='5d0b737280c945521bfc6138', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:38203}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:52:18 INFO [cluster-ClusterId{value='5d0b737280c945521bfc6138', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=8579430}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:52:19 INFO [main] Started ChatRecordRepositoryTest in 4.616 seconds (JVM running for 6.46)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-20 19:52:20 DEBUG [main] Analyzing class class com.xudong.im.domain.chat.ChatRecord for index information.。Caller+0	 at org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator.checkForIndexes(MongoPersistentEntityIndexCreator.java:124)
19-06-20 19:52:20 DEBUG [main] find using query: { "gmtCreate" : { } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:52:20 INFO [main] Opened connection [connectionId{localValue:2, serverValue:38204}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:52:20 DEBUG [main] find using query: { "gmtCreate" : { "$lt" : { "$date" : 1560945140364 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:52:20 DEBUG [main] Executing count: { "gmtCreate" : { "$lt" : { "$date" : 1560945140364 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:52:20 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1560426740364 }, "$lt" : { "$date" : 1560945140364 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:52:20 DEBUG [main] Executing count: { "gmtCreate" : { "$gte" : { "$date" : 1560426740364 }, "$lt" : { "$date" : 1560945140364 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:52:20 INFO [Thread-2] Closed connection [connectionId{localValue:2, serverValue:38204}] to 47.96.89.84:27017 because the pool has been closed.。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:53:40 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 19:53:40 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 19:53:40 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 19:53:40 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 19:53:41 INFO [main] Starting ChatRecordRepositoryTest on evan-macbook.local with PID 21050 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-20 19:53:41 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-20 19:53:42 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-20 19:53:42 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:53:42 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:53:42 INFO [main] Finished Spring Data repository scanning in 9ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:53:42 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 19:53:42 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 19:53:43 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 19:53:43 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:53:44 INFO [cluster-ClusterId{value='5d0b73c780c945523a0b27e1', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:38206}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:53:44 INFO [cluster-ClusterId{value='5d0b73c780c945523a0b27e1', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=6730166}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:53:45 INFO [main] Started ChatRecordRepositoryTest in 4.175 seconds (JVM running for 5.789)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-20 19:53:45 DEBUG [main] Analyzing class class com.xudong.im.domain.chat.ChatRecord for index information.。Caller+0	 at org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator.checkForIndexes(MongoPersistentEntityIndexCreator.java:124)
19-06-20 19:53:45 DEBUG [main] find using query: { } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:53:45 INFO [main] Opened connection [connectionId{localValue:2, serverValue:38207}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 19:53:46 DEBUG [main] Executing count: { } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:53:46 DEBUG [main] find using query: { "gmtCreate" : { "$lt" : { "$date" : 1560945226610 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:53:47 DEBUG [main] Executing count: { "gmtCreate" : { "$lt" : { "$date" : 1560945226610 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:53:47 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1560426826610 }, "$lt" : { "$date" : 1560945226610 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 19:53:47 DEBUG [main] Executing count: { "gmtCreate" : { "$gte" : { "$date" : 1560426826610 }, "$lt" : { "$date" : 1560945226610 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 19:53:47 INFO [Thread-2] Closed connection [connectionId{localValue:2, serverValue:38207}] to 47.96.89.84:27017 because the pool has been closed.。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 20:02:18 INFO [main] Neither @ContextConfiguration nor @ContextHierarchy found for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest], using SpringBootContextLoader。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildDefaultMergedContextConfiguration(AbstractTestContextBootstrapper.java:308)
19-06-20 20:02:18 INFO [main] Could not detect default resource locations for test class [test.com.xudong.im.data.mongo.ChatRecordRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.。Caller+0	 at org.springframework.test.context.support.AbstractContextLoader.generateDefaultLocations(AbstractContextLoader.java:264)
19-06-20 20:02:18 INFO [main] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListenerClassNames(AbstractTestContextBootstrapper.java:248)
19-06-20 20:02:18 INFO [main] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a0baae5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7ac0e420, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@289710d9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a18cd76, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3da30852, org.springframework.test.context.transaction.TransactionalTestExecutionListener@403f0a22, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@503ecb24, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c51cf28, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6995bf68, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5143c662, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77825085, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3568f9d2]。Caller+0	 at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:177)
19-06-20 20:02:19 INFO [main] Starting ChatRecordRepositoryTest on evan-macbook.local with PID 21227 (started by evan in /Users/evan/sources/xudong/xudong-im-server/xudong-im-service)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:50)
19-06-20 20:02:19 INFO [main] No active profile set, falling back to default profiles: default。Caller+0	 at org.springframework.boot.SpringApplication.logStartupProfileInfo(SpringApplication.java:675)
19-06-20 20:02:20 WARN [main] No MyBatis mapper was found in '[test.com.xudong.im.support]' package. Please check your configuration.。Caller+0	 at org.mybatis.logging.Logger.warn(Logger.java:44)
19-06-20 20:02:20 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 20:02:20 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 20:02:20 INFO [main] Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 20:02:20 INFO [main] Multiple Spring Data modules found, entering strict repository configuration mode!。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.multipleStoresDetected(RepositoryConfigurationDelegate.java:244)
19-06-20 20:02:20 INFO [main] Bootstrapping Spring Data repositories in DEFAULT mode.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:126)
19-06-20 20:02:20 INFO [main] Finished Spring Data repository scanning in 3ms. Found 0 repository interfaces.。Caller+0	 at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:182)
19-06-20 20:02:21 INFO [main] Cluster created with settings {hosts=[47.96.89.84:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 20:02:21 INFO [cluster-ClusterId{value='5d0b75cd80c94552ebc4675d', description='null'}-47.96.89.84:27017] Opened connection [connectionId{localValue:1, serverValue:38210}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 20:02:21 INFO [cluster-ClusterId{value='5d0b75cd80c94552ebc4675d', description='null'}-47.96.89.84:27017] Monitor thread successfully connected to server with description ServerDescription{address=47.96.89.84:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 4, 9]}, minWireVersion=0, maxWireVersion=5, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=8870442}。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 20:02:22 INFO [main] Started ChatRecordRepositoryTest in 3.984 seconds (JVM running for 5.74)。Caller+0	 at org.springframework.boot.StartupInfoLogger.logStarted(StartupInfoLogger.java:59)
19-06-20 20:02:23 DEBUG [main] Analyzing class class com.xudong.im.domain.chat.ChatRecord for index information.。Caller+0	 at org.springframework.data.mongodb.core.index.MongoPersistentEntityIndexCreator.checkForIndexes(MongoPersistentEntityIndexCreator.java:124)
19-06-20 20:02:23 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1560859343152 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 20:02:23 INFO [main] Opened connection [connectionId{localValue:2, serverValue:38211}] to 47.96.89.84:27017。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
19-06-20 20:02:24 DEBUG [main] Executing count: { "gmtCreate" : { "$gte" : { "$date" : 1560859343152 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 20:02:24 DEBUG [main] find using query: { "gmtCreate" : { "$lt" : { "$date" : 1560945743152 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 20:02:25 DEBUG [main] Executing count: { "gmtCreate" : { "$lt" : { "$date" : 1560945743152 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 20:02:25 DEBUG [main] find using query: { "gmtCreate" : { "$gte" : { "$date" : 1560427343152 }, "$lt" : { "$date" : 1560945743152 } } } fields: Document{{}} for class: class com.xudong.im.domain.chat.ChatRecord in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:2407)
19-06-20 20:02:26 DEBUG [main] Executing count: { "gmtCreate" : { "$gte" : { "$date" : 1560427343152 }, "$lt" : { "$date" : 1560945743152 } } } in collection: chat_record。Caller+0	 at org.springframework.data.mongodb.core.MongoTemplate.doCount(MongoTemplate.java:1143)
19-06-20 20:02:26 INFO [Thread-2] Closed connection [connectionId{localValue:2, serverValue:38211}] to 47.96.89.84:27017 because the pool has been closed.。Caller+0	 at com.mongodb.diagnostics.logging.SLF4JLogger.info(SLF4JLogger.java:71)
